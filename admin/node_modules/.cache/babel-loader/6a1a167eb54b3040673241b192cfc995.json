{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import ApiRequest from\"src/Api/Data/requestApi\";import TableCard from\"src/views/table/TableCard\";import Invoice from\"../../Invoice/Invoice\";import SingeleTask from\"../../Task/TaskDetails/SingleTaskDetails\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var History=function History(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isShowInvoice=_useState2[0],setIsShowInvoice=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isShowSingleTask=_useState4[0],setIsShowSingleTask=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),taskId=_useState6[0],setTaskId=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),invoiceId=_useState8[0],setInvoiceId=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),Invoices=_useState10[0],setInvoices=_useState10[1];var ShowInvoice=function ShowInvoice(invoiceid){setInvoiceId(invoiceid);setIsShowInvoice(true);setIsShowSingleTask(false);};var ShowSingleTasks=function ShowSingleTasks(taskid){setTaskId(taskid);setIsShowInvoice(false);setIsShowSingleTask(true);};var CloseInvoice=function CloseInvoice(){setInvoiceId('');setTaskId('');setIsShowInvoice(false);setIsShowSingleTask(false);};var LoadInvoices=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,organisedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ApiRequest.LoadInvoices();case 2:data=_context.sent;organisedData=[];data.data.forEach(function(element){var dat={invoiceId:element.Invoice,created:element.created_date,pdate:element.end_date,Action:Button(element.invoice_id)};organisedData.push(dat);});setInvoices(organisedData);//console.log(data.data);\ncase 6:case\"end\":return _context.stop();}}},_callee);}));return function LoadInvoices(){return _ref.apply(this,arguments);};}();useEffect(function(){LoadInvoices();},[]);var Button=function Button(id){return/*#__PURE__*/_jsx(\"button\",{style:{width:\"100%\",color:\"#000\"},onClick:function onClick(){return ShowInvoice(id);},className:\"btn btn-success fa fa-history\"});};var columns=[{dataField:\"invoiceId\",text:\"#Invoice Id\"},{dataField:\"created\",text:\"Created Date\"},{dataField:\"pdate\",text:\"Paid-Date\"},{dataField:\"Action\",text:\"Action\"}];return/*#__PURE__*/_jsxs(_Fragment,{children:[!isShowInvoice&&!isShowSingleTask&&/*#__PURE__*/_jsxs(\"div\",{className:\"container card\",children:[\"  \",/*#__PURE__*/_jsx(TableCard,{products:Invoices,columns:columns,title:\"PAYMENT HISTORY\"})]}),isShowInvoice&&!isShowSingleTask&&/*#__PURE__*/_jsx(Invoice,{InvoiceId:invoiceId,showSingleTask:ShowSingleTasks,closeInvoice:CloseInvoice}),!isShowInvoice&&isShowSingleTask&&/*#__PURE__*/_jsx(SingeleTask,{invoiceId:invoiceId,id:taskId,closeTask:ShowInvoice,isAccept:false})]});};export default History;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/views/base/Payments/history/history.js"],"names":["useEffect","useState","ApiRequest","TableCard","Invoice","SingeleTask","History","isShowInvoice","setIsShowInvoice","isShowSingleTask","setIsShowSingleTask","taskId","setTaskId","invoiceId","setInvoiceId","Invoices","setInvoices","ShowInvoice","invoiceid","ShowSingleTasks","taskid","CloseInvoice","LoadInvoices","data","organisedData","forEach","element","dat","created","created_date","pdate","end_date","Action","Button","invoice_id","push","id","width","color","columns","dataField","text"],"mappings":"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","sourcesContent":["\nimport { useEffect, useState } from \"react\";\nimport ApiRequest from \"src/Api/Data/requestApi\";\nimport TableCard from \"src/views/table/TableCard\";\nimport Invoice from \"../../Invoice/Invoice\";\nimport SingeleTask from \"../../Task/TaskDetails/SingleTaskDetails\";\n\nconst History = ()=>{\n    const [isShowInvoice,setIsShowInvoice] = useState(false);\n    const [isShowSingleTask,setIsShowSingleTask]=useState(false);\n    const [taskId,setTaskId]=useState('');\n    const [invoiceId,setInvoiceId]= useState('');\n    const [Invoices,setInvoices]= useState([]);\n\n     const ShowInvoice=invoiceid=>{\n         \n         setInvoiceId(invoiceid);\n         setIsShowInvoice(true);\n         setIsShowSingleTask(false);\n     }\n     const ShowSingleTasks =taskid=>{\n       setTaskId(taskid);\n      setIsShowInvoice(false);\n      setIsShowSingleTask(true);\n     }\n\n     const CloseInvoice=()=>{\n      setInvoiceId('');\n      setTaskId('');\n      setIsShowInvoice(false);\n      setIsShowSingleTask(false);\n     }\n\n\n     const LoadInvoices = async ()=>{\n          const data = await ApiRequest.LoadInvoices();\n           var organisedData=[];\n          data.data.forEach(element => {\n               var dat ={\n                invoiceId:element.Invoice,\n                created:element.created_date,\n                pdate:element.end_date,\n                Action:Button(element.invoice_id)\n               }\n\n               organisedData.push(dat);\n          });\n\n          setInvoices(organisedData);\n          \n          //console.log(data.data);\n     }\n\n     useEffect(()=>{\n        LoadInvoices();\n     },[]);\n\n  \n  const Button=id=>{\n    return <button style={{width:\"100%\",\n             \n              color:\"#000\"\n  }} onClick={()=>ShowInvoice(id)} className=\"btn btn-success fa fa-history\"></button>\n  }\n    const columns = [\n      \n        {\n          dataField: \"invoiceId\",\n          text: \"#Invoice Id\",\n       \n        },\n      \n        {\n          \n            dataField: \"created\",\n            text: \"Created Date\",\n          \n          \n        },\n        {\n          \n          dataField: \"pdate\",\n          text: \"Paid-Date\",\n       },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n  \n\n    \n    return <>\n          {!isShowInvoice && !isShowSingleTask && \n          <div className=\"container card\">  <TableCard \n             products={Invoices}\n             columns={columns}\n              title={\"PAYMENT HISTORY\"}\n             />\n             </div>\n          }\n\n        {isShowInvoice && !isShowSingleTask &&\n          \n           <Invoice InvoiceId={invoiceId} showSingleTask ={ShowSingleTasks} closeInvoice={CloseInvoice}/>\n         \n         \n         }  \n\n        {!isShowInvoice && isShowSingleTask && <SingeleTask invoiceId={invoiceId} id={taskId} closeTask={ShowInvoice} isAccept={false}/>}\n          </>\n          \n}\n\nexport default History;"]},"metadata":{},"sourceType":"module"}