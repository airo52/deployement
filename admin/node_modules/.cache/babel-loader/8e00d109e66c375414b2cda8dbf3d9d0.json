{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import ApiRequest from\"src/Api/Data/requestApi\";import ChatBox from\"src/views/ChatBox/ChatBox\";import TableCard from\"src/views/table/TableCard\";import SingeleTask from\"../../TaskDetails/SingleTaskDetails\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TaskBeingRedone=function TaskBeingRedone(_ref){var socket=_ref.socket;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),taskDetails=_useState4[0],setTaskDetails=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),taskId=_useState6[0],setTaskId=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),Redone=_useState8[0],setRedone=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),show=_useState10[0],setShow=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),email=_useState12[0],setEmail=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),taskid=_useState14[0],setTaskid=_useState14[1];var Open=function Open(mail,taskid){setEmail(mail);setTaskid(taskid);setOpen(!open);};var CloseTask=function CloseTask(){setTaskDetails(false);};var getOrdersBeingRevised=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,organisedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ApiRequest.getOrdersBeingRevised();case 2:result=_context.sent;organisedData=[];result.data.forEach(function(element){var dat={\"#taskId\":element.task_id,title:element.task_title,writerName:element.writer_display_name,email:element.writer_email,status:element.task_status,category:element.writer_category,sdate:element.taskl_accepted_date,ddate:element.task_deadline,Action:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return TaskDetails(element.task_id);},className:\"btn btn-info\",children:\"Task Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return Open(element.writer_email,element.task_id);},style:{marginLeft:\"2px\"},className:\"btn btn-success fa fa-comment\"})]})};setShow(true);organisedData.push(dat);});setRedone(organisedData);// console.log(result.data);\ncase 6:case\"end\":return _context.stop();}}},_callee);}));return function getOrdersBeingRevised(){return _ref2.apply(this,arguments);};}();useEffect(function(){getOrdersBeingRevised();},[]);var TaskDetails=function TaskDetails(taskId){setTaskId(taskId);setTaskDetails(true);};var columns=[{dataField:\"#taskId\",text:\"#taskId\"},{dataField:\"title\",text:\"Title\",sort:true},{dataField:\"writerName\",text:\"Writer Username\"},{dataField:\"email\",text:\"email\"},{dataField:\"status\",text:\"status\"},{dataField:\"category\",text:\"Category\"},{dataField:\"sdate\",text:\"Submited-Date\"},{dataField:\"ddate\",text:\"Deadline\"},{dataField:\"Action\",text:\"Action\"}];var products=[{\"#taskId\":\"7888888\",title:\"Lorem ipsume\",writerName:\"John \",email:\"airotony8@gmail.com\",status:\"Revision\",category:\"Lorem\",sdate:\"2018-9-10\",ddate:\"2019-10-10\",Action:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return TaskDetails(2);},className:\"btn btn-info\",children:\"Task Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return Open();},style:{marginLeft:\"2px\"},className:\"btn btn-success fa fa-comment\"})]})}];return/*#__PURE__*/_jsxs(_Fragment,{children:[!taskDetails&&show&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(TableCard,{products:Redone,columns:columns,title:\"TASK BEING REVISED\"}),open&&/*#__PURE__*/_jsx(ChatBox,{open:open,SetOpen:Open,email:email,socket:socket,taskid:taskid})]}),taskDetails&&/*#__PURE__*/_jsx(SingeleTask,{id:taskId,closeTask:CloseTask,isAccept:false})]});};export default TaskBeingRedone;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/views/base/Task/management/Redones/redones.js"],"names":["useEffect","useState","ApiRequest","ChatBox","TableCard","SingeleTask","TaskBeingRedone","socket","open","setOpen","taskDetails","setTaskDetails","taskId","setTaskId","Redone","setRedone","show","setShow","email","setEmail","taskid","setTaskid","Open","mail","CloseTask","getOrdersBeingRevised","result","organisedData","data","forEach","element","dat","task_id","title","task_title","writerName","writer_display_name","writer_email","status","task_status","category","writer_category","sdate","taskl_accepted_date","ddate","task_deadline","Action","TaskDetails","marginLeft","push","columns","dataField","text","sort","products"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport ApiRequest from \"src/Api/Data/requestApi\";\nimport ChatBox from \"src/views/ChatBox/ChatBox\";\nimport TableCard from \"src/views/table/TableCard\";\nimport SingeleTask from \"../../TaskDetails/SingleTaskDetails\";\n\nconst TaskBeingRedone = ({socket})=>{\n  const [open,setOpen]=useState(false);\n  const [taskDetails,setTaskDetails] = useState(false);\n  const [taskId,setTaskId]=useState('');\n  const [Redone,setRedone]=useState([]);\n  const [show,setShow] = useState(false);\n  const [email,setEmail] = useState('');\n  const [taskid,setTaskid] =useState('');\n\n  const Open=(mail,taskid)=>{\n    setEmail(mail);\n    setTaskid(taskid);\n    setOpen(!open);\n }\n\n const CloseTask=()=>{\n  setTaskDetails(false);\n}\n\nconst getOrdersBeingRevised = async ()=>{\n  const result = await ApiRequest.getOrdersBeingRevised();\n   const organisedData=[];\n   result.data.forEach(element => {\n         var dat={\n          \"#taskId\":element.task_id,\n          title:element.task_title,\n          writerName:element.writer_display_name,\n          email:element.writer_email,\n          status:element.task_status,\n          category:element.writer_category,\n          sdate:element.taskl_accepted_date,\n          ddate:element.task_deadline,\n          Action:<>\n          <button onClick={()=>TaskDetails(element.task_id)} className=\"btn btn-info\">Task Details</button>\n           <button onClick={()=>Open(element.writer_email,element.task_id)} style={{marginLeft:\"2px\"}}  className=\"btn btn-success fa fa-comment\"></button>\n            </>\n         }\n        setShow(true);\n         organisedData.push(dat);\n   });\n\nsetRedone(organisedData);\n // console.log(result.data);\n}\n\nuseEffect(()=>{\n   getOrdersBeingRevised();\n},[])\n\nconst TaskDetails=(taskId)=>{\n  setTaskId(taskId);\n   setTaskDetails(true);\n}\n \n    const columns = [\n        {\n          dataField: \"#taskId\",\n          text: \"#taskId\",\n         \n        },\n        {\n          dataField: \"title\",\n          text: \"Title\",\n        \n          sort: true\n        },\n        {\n          dataField: \"writerName\",\n          text: \"Writer Username\",\n       \n        },\n        {\n          dataField: \"email\",\n          text: \"email\",\n        \n        },\n        {\n          \n            dataField: \"status\",\n            text: \"status\",\n          \n          \n        },\n        {\n          \n            dataField: \"category\",\n            text: \"Category\",\n          \n          \n        },\n        {\n          \n          dataField: \"sdate\",\n          text: \"Submited-Date\",\n        \n        \n      },\n      {\n          \n        dataField: \"ddate\",\n        text: \"Deadline\",\n      \n      \n      },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n      const products=[\n          {\n            \"#taskId\":\"7888888\",\n            title:\"Lorem ipsume\",\n            writerName:\"John \",\n            email:\"airotony8@gmail.com\",\n            status:\"Revision\",\n            category:\"Lorem\",\n            sdate:\"2018-9-10\",\n            ddate:\"2019-10-10\",\n            Action:<><button onClick={()=>TaskDetails(2)} className=\"btn btn-info\">Task Details</button>\n                      <button onClick={()=>Open()} style={{marginLeft:\"2px\"}}  className=\"btn btn-success fa fa-comment\"></button>\n              </>\n\n          }\n      ]\n    return <>\n            {!taskDetails && show && <> <TableCard \n             products={Redone}\n             columns={columns}\n              title={\"TASK BEING REVISED\"}\n             />\n             \n             {open && <ChatBox\n    open={open}\n    SetOpen={Open}\n    email={email}\n    socket={socket}\n    taskid={taskid}\n   />}\n             </>\n            }\n            \n            {taskDetails &&<SingeleTask id={taskId} closeTask={CloseTask} isAccept={false}/>}\n          </>\n          \n}\n\nexport default TaskBeingRedone;"]},"metadata":{},"sourceType":"module"}