{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{CBadge,CDropdown,CDropdownItem,CDropdownMenu,CDropdownToggle,CProgress}from'@coreui/react';import CIcon from'@coreui/icons-react';import ApiRequest from'src/Api/Data/requestApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TheHeaderDropdownNotif=function TheHeaderDropdownNotif(_ref){var notificationCount=_ref.notificationCount,_ref$Messages=_ref.Messages,Messages=_ref$Messages===void 0?[]:_ref$Messages;var clearReadNotification=function clearReadNotification(){setTimeout(function(){Messages.forEach(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(element){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ApiRequest.clearReadNotification(element.id);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());},4000);};var itemsCount=notificationCount;return/*#__PURE__*/_jsxs(CDropdown,{inNav:true,className:\"c-header-nav-item mx-2\",children:[/*#__PURE__*/_jsxs(CDropdownToggle,{onClick:function onClick(){return clearReadNotification();},className:\"c-header-nav-link\",caret:false,children:[/*#__PURE__*/_jsx(CIcon,{name:\"cil-bell\"}),/*#__PURE__*/_jsx(CBadge,{shape:\"pill\",color:\"danger\",children:itemsCount})]}),/*#__PURE__*/_jsxs(CDropdownMenu,{placement:\"bottom-end\",className:\"pt-0\",children:[/*#__PURE__*/_jsx(CDropdownItem,{header:true,tag:\"div\",className:\"text-center\",color:\"light\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"You have \",itemsCount,\" notifications\"]})}),Messages.map(function(item){return/*#__PURE__*/_jsxs(CDropdownItem,{children:[/*#__PURE__*/_jsx(CIcon,{name:\"cil-user-follow\",className:\"mr-2 text-success\"}),\" \",item.text]});})]})]});};export default TheHeaderDropdownNotif;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/containers/TheHeaderDropdownNotif.js"],"names":["React","CBadge","CDropdown","CDropdownItem","CDropdownMenu","CDropdownToggle","CProgress","CIcon","ApiRequest","TheHeaderDropdownNotif","notificationCount","Messages","clearReadNotification","setTimeout","forEach","element","id","itemsCount","map","item","text"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,MADF,CAEEC,SAFF,CAGEC,aAHF,CAIEC,aAJF,CAKEC,eALF,CAMEC,SANF,KAOO,eAPP,CAQA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,C,wFAEA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,MAAqC,IAAnCC,CAAAA,iBAAmC,MAAnCA,iBAAmC,oBAAjBC,QAAiB,CAAjBA,QAAiB,wBAAR,EAAQ,eAE/D,GAAMC,CAAAA,qBAAqB,CAAE,QAAvBA,CAAAA,qBAAuB,EAAI,CAC9BC,UAAU,CAAC,UAAM,CACfF,QAAQ,CAACG,OAAT,2FAAiB,iBAAOC,OAAP,wIACTP,CAAAA,UAAU,CAACI,qBAAX,CAAiCG,OAAO,CAACC,EAAzC,CADS,uDAAjB,iEAGD,CAJS,CAIP,IAJO,CAAV,CAMF,CAPD,CASH,GAAMC,CAAAA,UAAU,CAAGP,iBAAnB,CACA,mBACE,MAAC,SAAD,EACE,KAAK,KADP,CAEE,SAAS,CAAC,wBAFZ,wBAIE,MAAC,eAAD,EAAiB,OAAO,CAAE,yBAAIE,CAAAA,qBAAqB,EAAzB,EAA1B,CAAuD,SAAS,CAAC,mBAAjE,CAAqF,KAAK,CAAE,KAA5F,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,EADF,cAEE,KAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,CAAqB,KAAK,CAAC,QAA3B,UAAqCK,UAArC,EAFF,GAJF,cAQE,MAAC,aAAD,EAAgB,SAAS,CAAC,YAA1B,CAAuC,SAAS,CAAC,MAAjD,wBACE,KAAC,aAAD,EACE,MAAM,KADR,CAEE,GAAG,CAAC,KAFN,CAGE,SAAS,CAAC,aAHZ,CAIE,KAAK,CAAC,OAJR,uBAME,sCAAkBA,UAAlB,oBANF,EADF,CASKN,QAAQ,CAACO,GAAT,CAAa,SAACC,IAAD,CAAQ,CACnB,mBAAO,MAAC,aAAD,yBAAgB,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,SAAS,CAAC,mBAAxC,EAAhB,KAAgFA,IAAI,CAACC,IAArF,GAAP,CAEF,CAHA,CATL,GARF,GADF,CA0BD,CAtCD,CAwCA,cAAeX,CAAAA,sBAAf","sourcesContent":["import React from 'react'\nimport {\n  CBadge,\n  CDropdown,\n  CDropdownItem,\n  CDropdownMenu,\n  CDropdownToggle,\n  CProgress\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport ApiRequest from 'src/Api/Data/requestApi'\n\nconst TheHeaderDropdownNotif = ({notificationCount,Messages=[]}) => {\n  \n     const clearReadNotification =()=>{\n        setTimeout(() => {\n          Messages.forEach(async (element) => {\n            await ApiRequest.clearReadNotification(element.id);\n          });\n        }, 4000);\n         \n     }\n\n  const itemsCount = notificationCount;\n  return (\n    <CDropdown\n      inNav\n      className=\"c-header-nav-item mx-2\"\n    >\n      <CDropdownToggle onClick={()=>clearReadNotification()} className=\"c-header-nav-link\" caret={false}>\n        <CIcon name=\"cil-bell\"/>\n        <CBadge shape=\"pill\" color=\"danger\">{itemsCount}</CBadge>\n      </CDropdownToggle>\n      <CDropdownMenu  placement=\"bottom-end\" className=\"pt-0\">\n        <CDropdownItem\n          header\n          tag=\"div\"\n          className=\"text-center\"\n          color=\"light\"\n        >\n          <strong>You have {itemsCount} notifications</strong>\n        </CDropdownItem>\n          {Messages.map((item)=>{\n             return <CDropdownItem ><CIcon name=\"cil-user-follow\" className=\"mr-2 text-success\" /> {item.text}</CDropdownItem>\n              \n          })}\n      \n      </CDropdownMenu>\n    </CDropdown>\n  )\n}\n\nexport default TheHeaderDropdownNotif"]},"metadata":{},"sourceType":"module"}