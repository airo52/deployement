{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import download from\"downloadjs\";import{useEffect,useState}from\"react\";//import { Alert } from \"react-bootstrap\";\nimport ApiRequest from\"src/Api/Data/requestApi\";import TableCard from\"src/views/table/TableCard\";import swal from\"sweetalert\";import SingeleTask from\"../TaskDetails/SingleTaskDetails\";import AsignUser from\"./Asigne/Asign\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AssignTask=function AssignTask(_ref){var socket=_ref.socket;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),taskDetails=_useState2[0],setTaskDetails=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),taskId=_useState4[0],setTaskId=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),assign=_useState6[0],setAssign=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),bck=_useState8[0],setBck=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),unAssignedTask=_useState10[0],setUnassignedTask=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),taskID=_useState12[0],setTaskID=_useState12[1];var AssignTasks=function AssignTasks(TaskId){setTaskID(TaskId);setAssign(true);};var Button=function Button(task_id){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return TaskDetails(task_id);},style:{marginLeft:\"2px\"},className:\"btn btn-primary\",children:\"Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return AssignTasks(task_id);},style:{marginLeft:\"2px\"},className:\"btn btn-info\",children:\"Assign Task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return DeleteTask(task_id);},style:{marginLeft:\"2px\"},className:\"btn btn-success fa fa-trash\"})]});};var getUnAssignedTask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,filteredData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ApiRequest.getUnAssignedTask();case 2:result=_context.sent;filteredData=[];result.data.forEach(function(element){var dat={\"#taskId\":element.task_id,title:element.task_title,writerName:\"\",email:\"\",status:State(element.task_status),category:element.task_Descipline,sdate:element.task_created_date,ddate:element.task_deadline,Action:Button(element.task_id)};filteredData.push(dat);});setUnassignedTask(filteredData);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getUnAssignedTask(){return _ref2.apply(this,arguments);};}();useEffect(function(){getUnAssignedTask();},[]);var State=function State(state){if(state===\"new\"){return/*#__PURE__*/_jsx(\"div\",{className:\"badge badge-info\",children:state});}if(state===\"cancelled\"){return/*#__PURE__*/_jsx(\"div\",{className:\"badge badge-warning\",children:state});}};var Delete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ApiRequest.deleteTask(id);case 2:data=_context2.sent;if(data.data===\"done\"){getUnAssignedTask();swal(\"Deleted\",\"succefully\",\"success\");}else{swal(\"Failed\",data.data,\"error\");}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function Delete(_x){return _ref3.apply(this,arguments);};}();var DeleteTask=function DeleteTask(TaskId){swal(\"Are you sure To Delete This Task\",\"\",\"warning\",{buttons:{cancel:'Cancel !',procceed:{text:\"Delete !\",value:\"delete\"}}}).then(function(value){switch(value){case'delete':Delete(TaskId);// swal(\"Deleted\",\"succefully\"+TaskId,\"success\");\nbreak;default:break;}});};var CloseTask=function CloseTask(){setTaskDetails(false);};var TaskDetails=function TaskDetails(taskId){setTaskId(taskId);setTaskDetails(true);};var columns=[{dataField:\"#taskId\",text:\"#taskId\"},{dataField:\"title\",text:\"Title\",sort:true},{dataField:\"status\",text:\"status\"},{dataField:\"category\",text:\"Category\"},{dataField:\"sdate\",text:\"Submited-Date\"},{dataField:\"ddate\",text:\"Deadline\"},{dataField:\"Action\",text:\"Action\"}];var products=[{\"#taskId\":\"7888888\",title:\"Lorem ipsume\",writerName:\"John \",email:\"airotony8@gmail.com\",status:\"Revision\",category:\"Lorem\",sdate:\"2018-9-10\",ddate:\"2019-10-10\",Action:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return TaskDetails(1);},style:{marginLeft:\"2px\"},className:\"btn btn-primary\",children:\"Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return AssignTasks(1);},style:{marginLeft:\"2px\"},className:\"btn btn-info\",children:\"Assign Task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return DeleteTask(1);},style:{marginLeft:\"2px\"},className:\"btn btn-success fa fa-trash\"})]})}];return/*#__PURE__*/_jsxs(_Fragment,{children:[!taskDetails&&!assign&&/*#__PURE__*/_jsxs(\"div\",{className:\"container card\",children:[\" \",/*#__PURE__*/_jsx(TableCard,{products:unAssignedTask,columns:columns,title:\"NEW TASK NOT ASSIGNED\"})]}),taskDetails&&!assign&&/*#__PURE__*/_jsx(SingeleTask,{id:taskId,closeTask:CloseTask,isAccept:false}),assign&&/*#__PURE__*/_jsx(AsignUser,{taskId:taskID,isBck:bck,setAssign:setAssign,setBack:setBck})]});};export default AssignTask;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/views/base/Task/assign/assign.js"],"names":["download","useEffect","useState","ApiRequest","TableCard","swal","SingeleTask","AsignUser","AssignTask","socket","taskDetails","setTaskDetails","taskId","setTaskId","assign","setAssign","bck","setBck","unAssignedTask","setUnassignedTask","taskID","setTaskID","AssignTasks","TaskId","Button","task_id","TaskDetails","marginLeft","DeleteTask","getUnAssignedTask","result","filteredData","data","forEach","element","dat","title","task_title","writerName","email","status","State","task_status","category","task_Descipline","sdate","task_created_date","ddate","task_deadline","Action","push","state","Delete","id","deleteTask","buttons","cancel","procceed","text","value","then","CloseTask","columns","dataField","sort","products"],"mappings":"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","sourcesContent":["import download from \"downloadjs\";\nimport { useEffect, useState } from \"react\";\n//import { Alert } from \"react-bootstrap\";\nimport ApiRequest from \"src/Api/Data/requestApi\";\nimport TableCard from \"src/views/table/TableCard\";\nimport swal from \"sweetalert\";\nimport SingeleTask from \"../TaskDetails/SingleTaskDetails\";\nimport AsignUser from \"./Asigne/Asign\";\n\nconst AssignTask = ({socket})=>{\n  const [taskDetails,setTaskDetails] = useState(false);\n  const [taskId,setTaskId]=useState('');\n  const [assign,setAssign] = useState(false);\n  const [bck,setBck] = useState(true);\n  const [unAssignedTask,setUnassignedTask] = useState([]);\n  const [taskID,setTaskID]= useState('');\n  \n  const AssignTasks=TaskId=>{\n      setTaskID(TaskId);\n    setAssign(true);\n      \n  }\n  const Button=(task_id)=>{\n    return <>\n    \n    \n             <button onClick={()=>TaskDetails(task_id)} style={{marginLeft:\"2px\"}} className=\"btn btn-primary\">Details</button>\n            <button onClick={()=>AssignTasks(task_id)}  style={{marginLeft:\"2px\"}} className=\"btn btn-info\">Assign Task</button>\n            <button  onClick={()=>DeleteTask(task_id)} style={{marginLeft:\"2px\"}}  className=\"btn btn-success fa fa-trash\"></button>\n              </>\n     \n  }\n\n  const getUnAssignedTask = async ()=>{\n       const result = await ApiRequest.getUnAssignedTask();\n       const filteredData=[];\n  \n       result.data.forEach(element => {\n       var dat =  {\n           \"#taskId\":element.task_id,\n            title:element.task_title,\n            writerName:\"\",\n            email:\"\",\n            status:State(element.task_status),\n            category:element.task_Descipline,\n            sdate:element.task_created_date,\n            ddate:element.task_deadline,\n            Action:Button(element.task_id)\n         }\n \n         filteredData.push(dat);\n       });\n       \n        \n       setUnassignedTask(filteredData);\n  }\n\n  useEffect(()=>{\n  \n      getUnAssignedTask();\n  },[])\n\nconst State=(state)=>{\n    if(state === \"new\"){\n      return <div className=\"badge badge-info\">{state}</div>\n    }\n    if(state === \"cancelled\"){\n      return <div className=\"badge badge-warning\">{state}</div>\n    }\n}\n\n  const Delete=async (id)=>{\n       var data = await ApiRequest.deleteTask(id);\n       \n       if(data.data ===\"done\"){\n        getUnAssignedTask();\n        swal(\"Deleted\",\"succefully\",\"success\");\n        \n       }else{\n        swal(\"Failed\",data.data,\"error\");\n       }\n  }\n\n  const DeleteTask=TaskId=>{\n     swal(\"Are you sure To Delete This Task\",\"\",\"warning\",{\n           buttons:{\n             cancel:'Cancel !',\n             procceed:{\n                 text:\"Delete !\",\n                 value:\"delete\"\n             }\n           }\n     })\n     .then((value)=>{\n         switch (value) {\n           case 'delete':\n\n              Delete(TaskId);\n               // swal(\"Deleted\",\"succefully\"+TaskId,\"success\");\n             break;\n         \n           default:\n             break;\n         }\n     })\n  }\n\n  const CloseTask=()=>{\n    setTaskDetails(false);\n  }\n\n  const TaskDetails=(taskId)=>{\n    setTaskId(taskId);\n     setTaskDetails(true);\n  }\n\n \n    const columns = [\n        {\n          dataField: \"#taskId\",\n          text: \"#taskId\",\n         \n        },\n        {\n          dataField: \"title\",\n          text: \"Title\",\n        \n          sort: true\n        },\n      \n        {\n          \n            dataField: \"status\",\n            text: \"status\",\n          \n          \n        },\n        {\n          \n            dataField: \"category\",\n            text: \"Category\",\n          \n          \n        },\n        {\n          \n          dataField: \"sdate\",\n          text: \"Submited-Date\",\n        \n        \n      },\n      {\n          \n        dataField: \"ddate\",\n        text: \"Deadline\",\n      \n      \n      },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n      const products=[\n       { \n         \"#taskId\":\"7888888\",\n            title:\"Lorem ipsume\",\n            writerName:\"John \",\n            email:\"airotony8@gmail.com\",\n            status:\"Revision\",\n            category:\"Lorem\",\n            sdate:\"2018-9-10\",\n            ddate:\"2019-10-10\",\n            Action:<>\n             <button onClick={()=>TaskDetails(1)} style={{marginLeft:\"2px\"}} className=\"btn btn-primary\">Details</button>\n            <button onClick={()=>AssignTasks(1)}  style={{marginLeft:\"2px\"}} className=\"btn btn-info\">Assign Task</button>\n            <button  onClick={()=>DeleteTask(1)} style={{marginLeft:\"2px\"}}  className=\"btn btn-success fa fa-trash\"></button>\n              </>\n       }\n      ]\n    return <>\n         {!taskDetails && !assign &&<div className=\"container card\"> <TableCard \n             products={unAssignedTask}\n             columns={columns}\n              title={\"NEW TASK NOT ASSIGNED\"}\n             />\n             </div>\n         }\n         {taskDetails && !assign && <SingeleTask id={taskId} closeTask={CloseTask} isAccept={false}/>}\n         {assign && <AsignUser taskId={taskID} isBck={bck} setAssign={setAssign} setBack={setBck}/>}\n          </>\n\n          \n}\n\nexport default AssignTask;"]},"metadata":{},"sourceType":"module"}