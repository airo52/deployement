{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/tony/Documents/Projects/react/Writer/admin/src/views/supportCenter/support.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport ApiRequest from \"src/Api/Data/requestApi\";\nimport ChatBox from \"../ChatBox/ChatBox\";\nimport TableCard from \"../table/TableCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Support = function Support(_ref) {\n  _s();\n\n  var socket = _ref.socket;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      TICKETS = _useState4[0],\n      setTickects = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      taskid = _useState8[0],\n      setTaskid = _useState8[1];\n\n  var getOpentickets = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result, organisedData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return ApiRequest.getOpenTickets();\n\n            case 3:\n              result = _context.sent;\n              organisedData = [];\n              result.data.forEach(function (element) {\n                var dat = {\n                  \"#Id\": element.task_id,\n                  image: ProfileImage(element.writer_profile),\n                  email: element.writer_email,\n                  Odate: element.taskl_accepted_date,\n                  Action: Buttons(element.writer_email, element.task_id)\n                };\n                organisedData.push(dat);\n              });\n              setTickects(organisedData);\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function getOpentickets() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getOpentickets();\n  }, []);\n\n  var Open = function Open(mail, taskid) {\n    setTaskid(taskid);\n    setEmail(mail);\n    setOpen(!open);\n  };\n\n  var ProfileImage = function ProfileImage(image) {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        width: \"30px\",\n        height: \"30px\",\n        borderRadius: '15px'\n      },\n      src: image,\n      alt: \"profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 14\n    }, _this);\n  };\n\n  var Buttons = function Buttons(email, task_id) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          color: \"blue\"\n        },\n        onClick: function onClick() {\n          return Open(email, task_id);\n        },\n        className: \"fa fa-reply btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 12\n      }, _this)\n    }, void 0, false);\n  };\n\n  var columns = [{\n    dataField: \"#Id\",\n    text: \"TicketId(taskid)\"\n  }, {\n    dataField: \"image\",\n    text: \"Profile\",\n    sort: true\n  }, {\n    dataField: \"email\",\n    text: \"email\"\n  }, {\n    dataField: \"Odate\",\n    text: \"OpenDate\"\n  }, {\n    dataField: \"Action\",\n    text: \"Action\"\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container card\",\n      children: /*#__PURE__*/_jsxDEV(TableCard, {\n        products: TICKETS,\n        columns: columns,\n        title: \"SUPPORT TICKETS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 1\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 1\n    }, _this), open && /*#__PURE__*/_jsxDEV(ChatBox, {\n      open: open,\n      SetOpen: Open,\n      email: email,\n      socket: socket,\n      taskid: taskid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 10\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Support, \"uSQmaa4cdvVwqJSbRMjsfd+FWCM=\");\n\n_c = Support;\nexport default Support;\n\nvar _c;\n\n$RefreshReg$(_c, \"Support\");","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/views/supportCenter/support.js"],"names":["useEffect","useState","ApiRequest","ChatBox","TableCard","Support","socket","open","setOpen","TICKETS","setTickects","email","setEmail","taskid","setTaskid","getOpentickets","getOpenTickets","result","organisedData","data","forEach","element","dat","task_id","image","ProfileImage","writer_profile","writer_email","Odate","taskl_accepted_date","Action","Buttons","push","Open","mail","width","height","borderRadius","color","columns","dataField","text","sort"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport ApiRequest from \"src/Api/Data/requestApi\";\n\nimport ChatBox from \"../ChatBox/ChatBox\";\nimport TableCard from \"../table/TableCard\";\n\nconst Support = ({socket})=>{\n\n   const [open,setOpen]=useState(false);\n\n   const [TICKETS,setTickects] = useState([]);\n   const [email,setEmail] = useState('');\n  const [taskid,setTaskid] =useState('');\n\n    const getOpentickets = async ()=>{\n            try {\n              \n              const result = await ApiRequest.getOpenTickets();\n              var organisedData =[];\n              result.data.forEach(element => {\n              var dat=  {\n\n                  \"#Id\":element.task_id,\n                   image:ProfileImage(element.writer_profile),\n                  \n                   email:element.writer_email,\n                   \n                   Odate:element.taskl_accepted_date,\n                   Action:Buttons(element.writer_email,element.task_id)\n                }\n                organisedData.push(dat);\n              });\n\n              setTickects(organisedData);\n            } catch (error) {\n              \n            \n            }\n    }\n\n    useEffect(()=>{\n      getOpentickets();\n    },[]);\n\n    const Open=(mail,taskid)=>{\n      setTaskid(taskid);\n      setEmail(mail);\n      setOpen(!open);\n   }\n   const ProfileImage=image=>{\n    \n      return <img \n              style={{\n                width:\"30px\",\n                height:\"30px\",\n                borderRadius:'15px'\n                \n              }}\n          src={image} alt=\"profile\"/>\n    }\n   \n    const Buttons =(email,task_id)=>{\n      return <> \n           <button style={{color:\"blue\"}} onClick={()=>Open(email,task_id)}  className=\"fa fa-reply btn\"></button> \n         \n           \n       </>\n         }\n\n       \n   \n   const columns = [\n        {\n          dataField: \"#Id\",\n          text: \"TicketId(taskid)\",\n         \n        },\n        {\n          dataField: \"image\",\n          text: \"Profile\",\n        \n          sort: true\n        },\n       \n        {\n          dataField: \"email\",\n          text: \"email\",\n        \n        },\n       \n        {\n          \n            dataField: \"Odate\",\n            text: \"OpenDate\",\n          \n          \n        },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n    \n return <>  \n<div className=\"container card\">\n<TableCard products={TICKETS} columns={columns} title={\"SUPPORT TICKETS\"}/>\n</div>\n     \n{open && <ChatBox\n    open={open}\n    SetOpen={Open}\n    email={email}\n    socket={socket}\n    taskid={taskid}\n   />}\n   </>;\n}\n\nexport default Support;"]},"metadata":{},"sourceType":"module"}