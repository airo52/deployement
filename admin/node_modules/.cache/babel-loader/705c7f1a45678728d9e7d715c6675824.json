{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/tony/Documents/Projects/react/Writer/admin/src/containers/TheHeaderDropdownNotif.js\",\n    _this = this;\n\nimport React from 'react';\nimport { CBadge, CDropdown, CDropdownItem, CDropdownMenu, CDropdownToggle, CProgress } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport ApiRequest from 'src/Api/Data/requestApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar TheHeaderDropdownNotif = function TheHeaderDropdownNotif(_ref) {\n  var notificationCount = _ref.notificationCount,\n      _ref$Messages = _ref.Messages,\n      Messages = _ref$Messages === void 0 ? [] : _ref$Messages;\n\n  var clearReadNotification = function clearReadNotification() {\n    setTimeout(function () {\n      Messages.forEach( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(element) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return ApiRequest.clearReadNotification(element.id);\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }, 4000);\n  };\n\n  var itemsCount = notificationCount;\n  return /*#__PURE__*/_jsxDEV(CDropdown, {\n    inNav: true,\n    className: \"c-header-nav-item mx-2\",\n    children: [/*#__PURE__*/_jsxDEV(CDropdownToggle, {\n      onClick: function onClick() {\n        return clearReadNotification();\n      },\n      className: \"c-header-nav-link\",\n      caret: false,\n      children: [/*#__PURE__*/_jsxDEV(CIcon, {\n        name: \"cil-bell\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CBadge, {\n        shape: \"pill\",\n        color: \"danger\",\n        children: itemsCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CDropdownMenu, {\n      placement: \"bottom-end\",\n      className: \"pt-0\",\n      children: [/*#__PURE__*/_jsxDEV(CDropdownItem, {\n        header: true,\n        tag: \"div\",\n        className: \"text-center\",\n        color: \"light\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"You have \", itemsCount, \" notifications\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, _this), Messages.map(function (item) {\n        return /*#__PURE__*/_jsxDEV(CDropdownItem, {\n          children: [/*#__PURE__*/_jsxDEV(CIcon, {\n            name: \"cil-user-follow\",\n            className: \"mr-2 text-success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 37\n          }, _this), \" \", item.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = TheHeaderDropdownNotif;\nexport default TheHeaderDropdownNotif;\n\nvar _c;\n\n$RefreshReg$(_c, \"TheHeaderDropdownNotif\");","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/containers/TheHeaderDropdownNotif.js"],"names":["React","CBadge","CDropdown","CDropdownItem","CDropdownMenu","CDropdownToggle","CProgress","CIcon","ApiRequest","TheHeaderDropdownNotif","notificationCount","Messages","clearReadNotification","setTimeout","forEach","element","id","itemsCount","map","item","text"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,MADF,EAEEC,SAFF,EAGEC,aAHF,EAIEC,aAJF,EAKEC,eALF,EAMEC,SANF,QAOO,eAPP;AAQA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,OAAqC;AAAA,MAAnCC,iBAAmC,QAAnCA,iBAAmC;AAAA,2BAAjBC,QAAiB;AAAA,MAAjBA,QAAiB,8BAAR,EAAQ;;AAE/D,MAAMC,qBAAqB,GAAE,SAAvBA,qBAAuB,GAAI;AAC9BC,IAAAA,UAAU,CAAC,YAAM;AACfF,MAAAA,QAAQ,CAACG,OAAT;AAAA,6EAAiB,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACTP,UAAU,CAACI,qBAAX,CAAiCG,OAAO,CAACC,EAAzC,CADS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAjB;;AAAA;AAAA;AAAA;AAAA;AAGD,KAJS,EAIP,IAJO,CAAV;AAMF,GAPD;;AASH,MAAMC,UAAU,GAAGP,iBAAnB;AACA,sBACE,QAAC,SAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,SAAS,EAAC,wBAFZ;AAAA,4BAIE,QAAC,eAAD;AAAiB,MAAA,OAAO,EAAE;AAAA,eAAIE,qBAAqB,EAAzB;AAAA,OAA1B;AAAuD,MAAA,SAAS,EAAC,mBAAjE;AAAqF,MAAA,KAAK,EAAE,KAA5F;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAA,kBAAqCK;AAArC;AAAA;AAAA;AAAA;AAAA,eAFF;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,eAQE,QAAC,aAAD;AAAgB,MAAA,SAAS,EAAC,YAA1B;AAAuC,MAAA,SAAS,EAAC,MAAjD;AAAA,8BACE,QAAC,aAAD;AACE,QAAA,MAAM,MADR;AAEE,QAAA,GAAG,EAAC,KAFN;AAGE,QAAA,SAAS,EAAC,aAHZ;AAIE,QAAA,KAAK,EAAC,OAJR;AAAA,+BAME;AAAA,kCAAkBA,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,eADF,EASKN,QAAQ,CAACO,GAAT,CAAa,UAACC,IAAD,EAAQ;AACnB,4BAAO,QAAC,aAAD;AAAA,kCAAgB,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,iBAAZ;AAA8B,YAAA,SAAS,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,mBAAhB,OAAgFA,IAAI,CAACC,IAArF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AAEF,OAHA,CATL;AAAA;AAAA;AAAA;AAAA;AAAA,aARF;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AA0BD,CAtCD;;KAAMX,sB;AAwCN,eAAeA,sBAAf","sourcesContent":["import React from 'react'\nimport {\n  CBadge,\n  CDropdown,\n  CDropdownItem,\n  CDropdownMenu,\n  CDropdownToggle,\n  CProgress\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport ApiRequest from 'src/Api/Data/requestApi'\n\nconst TheHeaderDropdownNotif = ({notificationCount,Messages=[]}) => {\n  \n     const clearReadNotification =()=>{\n        setTimeout(() => {\n          Messages.forEach(async (element) => {\n            await ApiRequest.clearReadNotification(element.id);\n          });\n        }, 4000);\n         \n     }\n\n  const itemsCount = notificationCount;\n  return (\n    <CDropdown\n      inNav\n      className=\"c-header-nav-item mx-2\"\n    >\n      <CDropdownToggle onClick={()=>clearReadNotification()} className=\"c-header-nav-link\" caret={false}>\n        <CIcon name=\"cil-bell\"/>\n        <CBadge shape=\"pill\" color=\"danger\">{itemsCount}</CBadge>\n      </CDropdownToggle>\n      <CDropdownMenu  placement=\"bottom-end\" className=\"pt-0\">\n        <CDropdownItem\n          header\n          tag=\"div\"\n          className=\"text-center\"\n          color=\"light\"\n        >\n          <strong>You have {itemsCount} notifications</strong>\n        </CDropdownItem>\n          {Messages.map((item)=>{\n             return <CDropdownItem ><CIcon name=\"cil-user-follow\" className=\"mr-2 text-success\" /> {item.text}</CDropdownItem>\n              \n          })}\n      \n      </CDropdownMenu>\n    </CDropdown>\n  )\n}\n\nexport default TheHeaderDropdownNotif"]},"metadata":{},"sourceType":"module"}