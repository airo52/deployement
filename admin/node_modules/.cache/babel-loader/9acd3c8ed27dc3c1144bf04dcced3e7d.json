{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{toast,ToastContainer}from\"react-toastify\";import ModalCard from\"src/views/modal/Modal\";import TableCard from\"src/views/table/TableCard\";import CreateAdmin from\"./CreateAdmins\";import RegisteredAdminProfile from\"./registeredAdmins/registeredAdminsProfile\";import'react-toastify/dist/ReactToastify.css';import swal from'sweetalert';import ApiRequest from\"src/Api/Data/requestApi\";import FormValidation from\"src/views/base/Users/writers/formValidate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Administrators=function Administrators(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),edit=_useState2[0],setEdit=_useState2[1];var notify=function notify(data){return toast(data);};var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),ConfirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),country=_useState10[0],setCountry=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),address=_useState12[0],setAdress=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),phone=_useState14[0],setPhone=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),category=_useState16[0],setCategory=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),username=_useState18[0],setUsername=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),userId=_useState20[0],setUserId=_useState20[1];var handleClose=function handleClose(){setShow(false);setEdit(false);};var handleShow=function handleShow(){return setShow(true);};var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),show=_useState22[0],setShow=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isShowLoader=_useState24[0],setShowLoader=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),Administrators=_useState26[0],setAdministrators=_useState26[1];var CreateNewAdmin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var test,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setShowLoader(true);test=FormValidation.RegisterForm(email,username,password,ConfirmPassword,country,address,phone,category);if(!(test==true)){_context.next=9;break;}_context.next=5;return ApiRequest.RegisterAdmins(email,username,password,ConfirmPassword,country,address,phone,'super');case 5:result=_context.sent;if(result.data==true){notify('Admin added Succesfully');setShowLoader(false);LoadAdministrators();setEmail('');setPassword('');setAdress('');setPassword('');setConfirmPassword('');setCountry('');setPhone('');setUsername('');}else{notify(result.data);setShowLoader(false);/* setEmail('');\n                      setPassword('');\n                      setAdress('');\n                      setPassword('');\n                        setConfirmPassword('');\n                      setCountry('');\n                   setPhone('');\n                   setUsername('');\n                   */}_context.next=11;break;case 9:notify(test);setTimeout(function(){setShowLoader(false);/*  setEmail('');\n           setPassword('');\n           setAdress('');\n           setPassword('');\n           setConfirmPassword('');\n           setCountry('');\n           setPhone('');\n           setUsername('');\n           */},2000);case 11:case\"end\":return _context.stop();}}},_callee);}));return function CreateNewAdmin(){return _ref.apply(this,arguments);};}();var Save=function Save(){setShowLoader(true);};var state=function state(_state){return _state==1?/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-success\",children:\"Active\"}):/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-warning\",children:\"Deactivated\"});};var LoadAdministrators=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result,organisedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ApiRequest.getAllAdministrators();case 2:result=_context2.sent;organisedData=[];result.data.forEach(function(element){var bat={\"#Id\":element.user_id,image:ProfileImage(element.user_profile),writerName:element.user_username,email:element.user_email,status:state(element.user_status),level:element.user_type,Action:Buttons(element.user_id,element.user_username,Checks(element.user_status))};organisedData.push(bat);});setAdministrators(organisedData);//  console.log(result.data);\ncase 6:case\"end\":return _context2.stop();}}},_callee2);}));return function LoadAdministrators(){return _ref2.apply(this,arguments);};}();var Category=function Category(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"O\",selected:true,children:\"chose\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Super Admin\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Manager\"})]})});};var ProfileImage=function ProfileImage(image){return/*#__PURE__*/_jsx(\"img\",{style:{width:\"50px\",height:\"50px\",borderRadius:'25px'},src:image,alt:\"profile\"});};useEffect(function(){LoadAdministrators();},[]);var EditUser=function EditUser(id){setUserId(id);setEdit(true);};var Back=function Back(){setUserId('');setEdit(false);};var BlockUserPermanet=function BlockUserPermanet(id,username){swal(\"You Are About To Permanently Block \"+username+\"!?\",{buttons:{cancel:\"Dont Block!\",delete:{text:\"Block User\",value:\"delete\"}}}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=value;_context3.next=_context3.t0===\"delete\"?3:8;break;case 3:_context3.next=5;return ApiRequest.BlockAdmin(id);case 5:result=_context3.sent;if(result.data==true){swal(\"\".concat(username),\"Deleted Succesfully\",\"success\");LoadAdministrators();// LoadWriters();\n}return _context3.abrupt(\"break\",9);case 8:swal(\"Process Canceled Succesfully!\");case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref3.apply(this,arguments);};}());};var DisableUser=function DisableUser(id,username){swal(\"\",\"Unblock \"+username+\"!?\",\"warning\",{buttons:{cancel:\"Cancel!\",delete:{text:\"Unblock User\",value:\"unblock\"}}}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(value){var result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.t0=value;_context4.next=_context4.t0===\"unblock\"?3:8;break;case 3:_context4.next=5;return ApiRequest.unblockAdmin(id);case 5:result=_context4.sent;if(result.data==true){swal(\"\".concat(username),\"unblocked Succesfully\",\"success\");LoadAdministrators();// LoadWriters();\n}return _context4.abrupt(\"break\",9);case 8:swal(\"Process Canceled Succesfully!\");case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref4.apply(this,arguments);};}());};var Checks=function Checks(s){if(s==1){return true;}else{return false;}};var Buttons=function Buttons(id,username,checkeds){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{color:\"blue\"},onClick:function onClick(){return EditUser(id);},className:\"fa fa-edit btn\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return checkeds==true?BlockUserPermanet(id,username):DisableUser(id,username);},className:checkeds?\"fa fa-unlock btn btn-info\":\"fa fa-lock btn btn-warning\"})]});};var columns=[{dataField:\"#Id\",text:\"Id\"},{dataField:\"image\",text:\"Profile\",sort:true},{dataField:\"writerName\",text:\"Username\"},{dataField:\"email\",text:\"email\"},{dataField:\"status\",text:\"status\"},{dataField:\"level\",text:\"Administartor Type\"},{dataField:\"Action\",text:\"Action\"}];var products=[{\"#Id\":\"33444\",image:ProfileImage('https://media.istockphoto.com/photos/senior-man-remembering-picture-id1166588777?b=1&k=20&m=1166588777&s=170667a&w=0&h=lNpNLSTkPOAvvo4TwEbUQa_p0IjFUQ6K5bjodzSzJok='),writerName:\"Airo\",email:\"airotony8@\",status:\"status\",level:\"level\",Action:Buttons(5,\"airo\")}];return/*#__PURE__*/_jsxs(_Fragment,{children:[\"  \",!edit&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"div\",{style:{height:\"60px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},className:\"card\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"10px\",marginLeft:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{children:\"CREATE NEW ADMINISTRATOR\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleShow();},style:{width:\"40px\",height:\"40px\",marginRight:\"10px\",marginTop:\"7px\"},className:\"btn btn-primary fa fa-plus\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container card\",children:/*#__PURE__*/_jsx(TableCard,{products:Administrators,columns:columns,title:\"Admin-Strators\"})}),/*#__PURE__*/_jsx(ModalCard,{content:/*#__PURE__*/_jsx(CreateAdmin,{isShowLoader:isShowLoader,email:email,setEmail:setEmail,password:password,setPassword:setPassword,ConfirmPassword:ConfirmPassword,setConfirmPassword:setConfirmPassword,country:country,setCountry:setCountry,address:address,setAdress:setAdress,phone:phone,setPhone:setPhone,category:/*#__PURE__*/_jsx(Category,{}),setCategory:setCategory,username:username,setUsername:setUsername}),ButtonName:\"CREATE NEW ADMIN\",Save:CreateNewAdmin,isShowLoader:isShowLoader,Show:show,Close:handleClose})]}),edit&&/*#__PURE__*/_jsx(RegisteredAdminProfile,{id:userId,back:Back}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Administrators;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/views/seatings/admins/admins.js"],"names":["useEffect","useState","toast","ToastContainer","ModalCard","TableCard","CreateAdmin","RegisteredAdminProfile","swal","ApiRequest","FormValidation","Administrators","edit","setEdit","notify","data","email","setEmail","password","setPassword","ConfirmPassword","setConfirmPassword","country","setCountry","address","setAdress","phone","setPhone","category","setCategory","username","setUsername","userId","setUserId","handleClose","setShow","handleShow","show","isShowLoader","setShowLoader","setAdministrators","CreateNewAdmin","test","RegisterForm","RegisterAdmins","result","LoadAdministrators","setTimeout","Save","state","getAllAdministrators","organisedData","forEach","element","bat","user_id","image","ProfileImage","user_profile","writerName","user_username","user_email","status","user_status","level","user_type","Action","Buttons","Checks","push","Category","width","height","borderRadius","EditUser","id","Back","BlockUserPermanet","buttons","cancel","delete","text","value","then","BlockAdmin","DisableUser","unblockAdmin","s","checkeds","color","columns","dataField","sort","products","display","flexDirection","justifyContent","marginTop","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport ModalCard from \"src/views/modal/Modal\";\nimport TableCard from \"src/views/table/TableCard\";\nimport CreateAdmin from \"./CreateAdmins\";\nimport RegisteredAdminProfile from \"./registeredAdmins/registeredAdminsProfile\";\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport swal from 'sweetalert';\nimport ApiRequest from \"src/Api/Data/requestApi\";\nimport FormValidation from \"src/views/base/Users/writers/formValidate\";\n\n\n\n\nconst Administrators=()=>{\n    const [edit,setEdit] = useState(false);\n\n    const notify = (data) => toast(data);\n    const [email,setEmail] = useState('');\n    const [password,setPassword] = useState('');\n    const [ConfirmPassword,setConfirmPassword] = useState('');\n    const [country,setCountry] = useState('');\n    const [address,setAdress] = useState('');\n    const [phone,setPhone] = useState('');\n    const [category,setCategory] = useState([]);\n    const [username,setUsername] = useState('');\n    const [userId,setUserId]=useState('');\n\n    const handleClose = () => {setShow(false);setEdit(false)};\n    const handleShow = () => setShow(true);\n    const [show, setShow] = useState(false);\n    const [isShowLoader,setShowLoader] = useState(false);\n    const [Administrators,setAdministrators]= useState([]);\n\n\n\n    const CreateNewAdmin = async ()=>{\n      \n      setShowLoader(true);\n      \n          const test = FormValidation.RegisterForm(email,username,password,ConfirmPassword,country,address,phone,category);\n          if(test == true){\n               const result = await ApiRequest.RegisterAdmins(email,username,password,ConfirmPassword,country,address,phone,'super');\n                if(result.data == true){\n                  notify('Admin added Succesfully');\n                  setShowLoader(false);\n                 LoadAdministrators()\n           setEmail('');\n           setPassword('');\n           setAdress('');\n           setPassword('');\n           setConfirmPassword('');\n           setCountry('');\n           setPhone('');\n           setUsername('');\n                }else{\n                     notify(result.data);\n                     setShowLoader(false);\n                    /* setEmail('');\n                      setPassword('');\n                      setAdress('');\n                      setPassword('');\n                        setConfirmPassword('');\n                      setCountry('');\n                   setPhone('');\n                   setUsername('');\n                   */\n                }\n\n          }else{\n\n     notify(test);\n     setTimeout(() => {\n           setShowLoader(false);\n        /*  setEmail('');\n           setPassword('');\n           setAdress('');\n           setPassword('');\n           setConfirmPassword('');\n           setCountry('');\n           setPhone('');\n           setUsername('');\n           */\n     }, 2000);\n    }\n  }\n\n    const Save = ()=>{\n        setShowLoader(true);\n    }\n\n    const state = (state)=>{\n      return state == 1?<span className=\"badge badge-success\">Active</span>:<span className=\"badge badge-warning\">Deactivated</span>;\n    }\n\n    const LoadAdministrators = async ()=>{\n              const result = await ApiRequest.getAllAdministrators();\n                 var organisedData =[];\n              result.data.forEach(element => {\n                   var bat={\n                    \n                      \"#Id\":element.user_id,\n                       image:ProfileImage(element.user_profile),\n                       writerName:element.user_username,\n                       email:element.user_email,\n                       status:state(element.user_status),\n                       level:element.user_type,\n                       Action:Buttons(element.user_id,element.user_username,Checks(element.user_status))\n                    \n                   }\n\n                   organisedData.push(bat);\n              });\n\n              setAdministrators(organisedData);\n\n            //  console.log(result.data);\n    }\n\n    const Category=()=>{\n        return <>\n              <select className=\"form-control\">\n                  <option value=\"O\" selected>chose</option>\n                  <option>Super Admin</option>\n                  <option>Manager</option>\n              </select>\n            </>\n    }\n\n    const ProfileImage=image=>{\n    \n      return <img \n              style={{\n                width:\"50px\",\n                height:\"50px\",\n                borderRadius:'25px'\n              }}\n          src={image} alt=\"profile\"/>\n    }\n\n    useEffect(()=>{\n      LoadAdministrators();\n    },[])\n   \n\n  const EditUser=(id)=>{\n       setUserId(id);\n      setEdit(true)\n  }\n  const Back=()=>{\n    setUserId('')\n    setEdit(false);\n  }\n\n  const BlockUserPermanet=(id,username)=>{\n    swal(\"You Are About To Permanently Block \"+username+\"!?\", {\n        buttons: {\n          cancel: \"Dont Block!\",\n          delete: {\n            text: \"Block User\",\n            value: \"delete\",\n          },\n         \n        },\n      })\n      .then(async (value) => {\n        switch (value) {\n       \n         \n       \n          case \"delete\":\n              const result = await ApiRequest.BlockAdmin(id);\n              if(result.data == true){\n            swal(`${username}`, \"Deleted Succesfully\", \"success\");\n            LoadAdministrators();\n           // LoadWriters();\n              }\n            break;\n       \n          default:\n            swal(\"Process Canceled Succesfully!\");\n        }\n      });\n}\n\nconst DisableUser =(id,username)=>{\n  swal(\"\",\"Unblock \"+username+\"!?\",\"warning\", {\n    buttons: {\n      cancel: \"Cancel!\",\n      delete: {\n        text: \"Unblock User\",\n        value: \"unblock\",\n      },\n     \n    },\n  })\n  .then(async (value) => {\n    switch (value) {\n   \n     \n   \n      case \"unblock\":\n        const result = await ApiRequest.unblockAdmin(id);\n        \n       if(result.data == true){\n        swal(`${username}`, \"unblocked Succesfully\", \"success\");\n        LoadAdministrators();\n       // LoadWriters();\n       }\n        break;\n   \n      default:\n        swal(\"Process Canceled Succesfully!\");\n    }\n  });\n}\n\nconst Checks = (s)=>{\n  if(s == 1){\n    return true;\n  }else{\n    return false;\n  }\n}\n\n    const Buttons =(id,username,checkeds)=>{\n      return <> \n           <button style={{color:\"blue\"}} onClick={()=>EditUser(id)} className=\"fa fa-edit btn\"></button> \n         \n           <button  onClick={()=>checkeds==true?BlockUserPermanet(id,username):DisableUser(id,username)} className={checkeds?\"fa fa-unlock btn btn-info\":\"fa fa-lock btn btn-warning\"}></button> \n           \n       </>\n         }\n    \n\n    const columns = [\n        {\n          dataField: \"#Id\",\n          text: \"Id\",\n         \n        },\n        {\n          dataField: \"image\",\n          text: \"Profile\",\n        \n          sort: true\n        },\n        {\n          dataField: \"writerName\",\n          text: \"Username\",\n       \n        },\n        {\n          dataField: \"email\",\n          text: \"email\",\n        \n        },\n        {\n          \n            dataField: \"status\",\n            text: \"status\",\n          \n          \n        },\n        {\n          \n            dataField: \"level\",\n            text: \"Administartor Type\",\n          \n          \n        },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n      const products=[\n         {\n           \"#Id\":\"33444\",\n            image:ProfileImage('https://media.istockphoto.com/photos/senior-man-remembering-picture-id1166588777?b=1&k=20&m=1166588777&s=170667a&w=0&h=lNpNLSTkPOAvvo4TwEbUQa_p0IjFUQ6K5bjodzSzJok='),\n            writerName:\"Airo\",\n            email:\"airotony8@\",\n            status:\"status\",\n            level:\"level\",\n            Action:Buttons(5,\"airo\")\n         }\n      ]\n return <>  {!edit && <> <div style={{height:\"60px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}} className=\"card\">\n    <h4 style={{marginTop:\"10px\",marginLeft:\"20px\"}}><i>CREATE NEW ADMINISTRATOR</i></h4>\n     <button onClick={()=>handleShow()} style={{width:\"40px\",height:\"40px\",marginRight:\"10px\",marginTop:\"7px\"}} className=\"btn btn-primary fa fa-plus\"></button>\n</div>\n<div className=\"container card\">\n<TableCard products={Administrators} columns={columns} title={\"Admin-Strators\"}/>\n</div>\n\n\n <ModalCard \n  content={<CreateAdmin\n    isShowLoader={isShowLoader}\n     email={email}\n     setEmail={setEmail}\n     password={password}\n     setPassword={setPassword}\n     ConfirmPassword={ConfirmPassword}\n     setConfirmPassword={setConfirmPassword}\n     country={country}\n     setCountry={setCountry}\n     address={address}\n     setAdress={setAdress}\n     phone={phone}\n     setPhone={setPhone}\n     category={<Category/>}\n     setCategory={setCategory}\n     username={username}\n     setUsername={setUsername}/>}\n\n     ButtonName={\"CREATE NEW ADMIN\"}\n     Save={CreateNewAdmin}\n     isShowLoader={isShowLoader}\n Show={show} Close={handleClose}/>\n</>}\n\n{edit && <RegisteredAdminProfile id={userId} back={Back}/>}\n\n<ToastContainer />\n</>\n}\n\nexport default Administrators;"]},"metadata":{},"sourceType":"module"}