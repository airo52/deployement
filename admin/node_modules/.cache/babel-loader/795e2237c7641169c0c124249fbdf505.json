{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tony/Documents/Projects/react/Writer/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{toast}from\"react-toastify\";import ApiRequest from\"src/Api/Data/requestApi\";import ModalCard from\"src/views/modal/Modal\";import swal from\"sweetalert\";import CreateAdmin from\"./CreateAdmins\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminProfile=function AdminProfile(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isShowLoader=_useState4[0],setShowLoader=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),ConfirmPassword=_useState10[0],setConfirmPassword=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),country=_useState12[0],setCountry=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),address=_useState14[0],setAdress=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),phone=_useState16[0],setPhone=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),category=_useState18[0],setCategory=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),username=_useState20[0],setUsername=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),userId=_useState22[0],setUserId=_useState22[1];var _useState23=useState('https://bootdey.com/img/Content/avatar/avatar7.png'),_useState24=_slicedToArray(_useState23,2),image=_useState24[0],setImage=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),profile=_useState26[0],setProfile=_useState26[1];var Save=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(profile===\"\")){_context.next=5;break;}swal(\"Error\",\"Provide your new profile\",'error');return _context.abrupt(\"return\");case 5:_context.next=7;return ApiRequest.UpdateProfile(profile);case 7:result=_context.sent;if(result===\"success\"){swal(\"Success\",\"Profile update succesfull\",'success');getUserData();}case 9:case\"end\":return _context.stop();}}},_callee);}));return function Save(){return _ref.apply(this,arguments);};}();var UpdateDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(password!==\"\"||ConfirmPassword!==\"\")){_context2.next=4;break;}if(!(password!==ConfirmPassword)){_context2.next=4;break;}swal('Error','Your password cant be updated make sure they mach or leave them blank','error');return _context2.abrupt(\"return\");case 4:data=\"email=\"+email+\"&password=\"+password+\"&country=\"+country+\"&address=\"+address+\"&phone=\"+phone+\"&username=\"+username;_context2.next=7;return ApiRequest.UpdateData(data);case 7:result=_context2.sent;if(result.data==='success'){swal('successs','profile update success','success');}else{swal('Error',result.data,'error');}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function UpdateDetails(){return _ref2.apply(this,arguments);};}();var getUserData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return ApiRequest.getAdminData();case 2:result=_context3.sent;setEmail(result.data[0].user_email);setUsername(result.data[0].user_username);setCountry(result.data[0].user_country);setAdress(result.data[0].address);setPhone(result.data[0].user_phone);setImage(result.data[0].user_profile);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function getUserData(){return _ref3.apply(this,arguments);};}();useEffect(function(){getUserData();},[]);var Close=function Close(){setShow(false);};var OpenModal=function OpenModal(){setShow(true);};var Content=function Content(){var HandleImage=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event){var file,reader;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0://  unction  FileRead(event) {\nfile=event.target.files[0];reader=new FileReader();reader.onload=function(event){var resul=event.target.result;setImage(resul);// setImage(file);\nsetProfile(file);};reader.readAsDataURL(file);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function HandleImage(_x){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlFile1\",children:\"Click To Select Your Profile\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return HandleImage(e);},class:\"form-control-file\",id:\"exampleFormControlFile1\"})]})})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"20px\"},className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row gutters-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Admin\",className:\"rounded-circle\",width:\"150\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:username}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary mb-1\",children:\"Super Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted font-size-sm\",children:address}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return OpenModal();},className:\"btn btn-info\",children:\"UPDATE PROFILE IMAGE\"})})]})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Full Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:username})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:email})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Phone\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:phone})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Mobile\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:phone})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Address\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:address})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"COUNTRY\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:country})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row gutters-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons text-info mr-2\",children:\"UPDATE\"}),\"ACCOUNT\"]}),/*#__PURE__*/_jsx(CreateAdmin,{isShowLoader:isShowLoader,email:email,setEmail:setEmail,password:password,setPassword:setPassword,ConfirmPassword:ConfirmPassword,setConfirmPassword:setConfirmPassword,country:country,setCountry:setCountry,address:address,setAdress:setAdress,phone:phone,setPhone:setPhone,username:username,setUsername:setUsername,isShowButton:true,Save:UpdateDetails})]})})})})]})]})})}),/*#__PURE__*/_jsx(ModalCard,{Show:show,Close:Close,isShowLoader:isShowLoader,ButtonName:\"upload profile\",content:/*#__PURE__*/_jsx(Content,{}),Save:Save})]});};export default AdminProfile;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/admin/src/views/seatings/admins/adminProfile.js"],"names":["useEffect","useState","toast","ApiRequest","ModalCard","swal","CreateAdmin","AdminProfile","show","setShow","isShowLoader","setShowLoader","email","setEmail","password","setPassword","ConfirmPassword","setConfirmPassword","country","setCountry","address","setAdress","phone","setPhone","category","setCategory","username","setUsername","userId","setUserId","image","setImage","profile","setProfile","Save","UpdateProfile","result","getUserData","UpdateDetails","data","UpdateData","getAdminData","user_email","user_username","user_country","user_phone","user_profile","Close","OpenModal","Content","HandleImage","event","file","target","files","reader","FileReader","onload","resul","readAsDataURL","e","marginTop"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport ApiRequest from \"src/Api/Data/requestApi\";\nimport ModalCard from \"src/views/modal/Modal\";\nimport swal from \"sweetalert\";\nimport CreateAdmin from \"./CreateAdmins\";\n\nconst AdminProfile=()=>{\n\n    const [show, setShow] = useState(false);\n    const [isShowLoader,setShowLoader] = useState(false);\n\n    const [email,setEmail] = useState('');\n    const [password,setPassword] = useState('');\n    const [ConfirmPassword,setConfirmPassword] = useState('');\n    const [country,setCountry] = useState('');\n    const [address,setAdress] = useState('');\n    const [phone,setPhone] = useState('');\n    const [category,setCategory] = useState([]);\n    const [username,setUsername] = useState('');\n    const [userId,setUserId]=useState('');\n    const [image,setImage] = useState('https://bootdey.com/img/Content/avatar/avatar7.png');\n    const [profile,setProfile] = useState('');\n\n  \n\n\n    const Save =async ()=>{\n      \n      if(profile ===\"\"){\n        swal(\"Error\",\"Provide your new profile\",'error');\n\n        return\n      }else{\n           const result = await ApiRequest.UpdateProfile(profile);\n\n           if(result === \"success\"){\n            swal(\"Success\",\"Profile update succesfull\",'success');\n\n            getUserData();\n           }\n      }\n\n    \n  }\n\n\n  const UpdateDetails = async ()=>{\n        \n       if(password !==\"\" || ConfirmPassword !==\"\"){\n         if(password !== ConfirmPassword){\n              swal('Error','Your password cant be updated make sure they mach or leave them blank','error');\n           return\n         }\n       }\n\n       const data = \"email=\"+email+\"&password=\"+password+\"&country=\"+country+\"&address=\"+address+\"&phone=\"+phone+\"&username=\"+username;\n       \n       const result = await ApiRequest.UpdateData(data);\n\n       if(result.data === 'success'){\n        swal('successs','profile update success','success');\n       }else{\n        swal('Error',result.data,'error');\n       }\n\n  }\n\n    const getUserData = async ()=>{\n          const result = await ApiRequest.getAdminData();\n          \n          setEmail(result.data[0].user_email);\n          setUsername(result.data[0].user_username);\n          setCountry(result.data[0].user_country);\n          setAdress(result.data[0].address);\n          setPhone(result.data[0].user_phone);\n          setImage(result.data[0].user_profile);\n    }\n\n    useEffect(()=>{\n         getUserData();\n    },[])\n\n    const Close=()=>{\n      setShow(false)\n    }\n    const OpenModal=()=>{\n      setShow(true);\n    }\n\n    const Content=()=>{\n      \n\n      const HandleImage =async  (event)=>{\n\n        //  unction  FileRead(event) {\n              var file = event.target.files[0];\n              var reader = new FileReader();\n              reader.onload = function(event) {\n              \n               const resul= event.target.result;\n          \n               setImage(resul);\n              // setImage(file);\n\n              setProfile(file);\n  \n                  \n               \n              };\n              reader.readAsDataURL(file);\n    \n      }\n\n      return <>\n               <form>\n    <div class=\"form-group\">\n        <label for=\"exampleFormControlFile1\">Click To Select Your Profile</label>\n         <input type=\"file\" onChange={(e)=>HandleImage(e)} class=\"form-control-file\" id=\"exampleFormControlFile1\"/>\n     </div>\n      </form>\n            </>\n    }\n\n  \n     return<>   \n         <div style={{marginTop:\"20px\"}} className=\"container\">\n     <div className=\"main-body\">\n   \n      \n           \n     \n           <div className=\"row gutters-sm\">\n             <div className=\"col-md-4 mb-3\">\n               <div className=\"card\">\n                 <div className=\"card-body\">\n                   <div className=\"d-flex flex-column align-items-center text-center\">\n                     <img src={image} alt=\"Admin\" className=\"rounded-circle\" width=\"150\"/>\n                     <div className=\"mt-3\">\n                       <h4>{username}</h4>\n                       <p className=\"text-secondary mb-1\">Super Admin</p>\n                       <p className=\"text-muted font-size-sm\">{address}</p>\n                      \n                      <div>\n                         <button onClick={()=>OpenModal()} className=\"btn btn-info\">UPDATE PROFILE IMAGE</button>\n                      </div>\n                     </div>\n                   </div>\n                 </div>\n               </div>\n\n\n\n            \n\n             \n \n              \n \n             </div>\n\n\n\n\n\n             \n             <div className=\"col-md-8\">\n               <div className=\"card mb-3\">\n                 <div className=\"card-body\">\n                   <div className=\"row\">\n                     <div className=\"col-sm-3\">\n                       <h6 className=\"mb-0\">Full Name</h6>\n                     </div>\n                     <div className=\"col-sm-9 text-secondary\">\n                       {username}\n                     </div>\n                   </div>\n                  <hr/>\n                   <div className=\"row\">\n                     <div className=\"col-sm-3\">\n                       <h6 className=\"mb-0\">Email</h6>\n                     </div>\n                     <div className=\"col-sm-9 text-secondary\">\n                       {email}\n                     </div>\n                   </div>\n                  <hr/>\n                   <div className=\"row\">\n                     <div className=\"col-sm-3\">\n                       <h6 className=\"mb-0\">Phone</h6>\n                     </div>\n                     <div className=\"col-sm-9 text-secondary\">\n                       {phone}\n                     </div>\n                   </div>\n                  <hr/>\n                   <div className=\"row\">\n                     <div className=\"col-sm-3\">\n                       <h6 className=\"mb-0\">Mobile</h6>\n                     </div>\n                     <div className=\"col-sm-9 text-secondary\">\n                       {phone}\n                     </div>\n                   </div>\n                  <hr/>\n                   <div className=\"row\">\n                     <div className=\"col-sm-3\">\n                       <h6 className=\"mb-0\">Address</h6>\n                     </div>\n                     <div className=\"col-sm-9 text-secondary\">\n                        \n                       {address}\n                     </div>\n                   </div>\n\n\n                  <hr/>\n                  <div className=\"row\">\n                     <div className=\"col-sm-3\">\n                       <h6 className=\"mb-0\">COUNTRY</h6>\n                     </div>\n                     <div className=\"col-sm-9 text-secondary\">\n                        \n                       {country}\n                     </div>\n                   </div>\n                  \n                 </div>\n               </div>\n\n\n\n \n               <div className=\"row gutters-sm\">\n                 <div className=\"col-sm-12 mb-3\">\n                   <div className=\"card h-100\">\n                     <div className=\"card-body\">\n                       <h6 className=\"d-flex align-items-center mb-3\"><i className=\"material-icons text-info mr-2\">UPDATE</i>ACCOUNT</h6>\n                        <CreateAdmin\n                          isShowLoader={isShowLoader}\n                          email={email}\n                          setEmail={setEmail}\n                          password={password}\n                          setPassword={setPassword}\n                          ConfirmPassword={ConfirmPassword}\n                          setConfirmPassword={setConfirmPassword}\n                          country={country}\n                          setCountry={setCountry}\n                          address={address}\n                          setAdress={setAdress}\n                          phone={phone}\n                          setPhone={setPhone}\n                          username={username}\n                          setUsername={setUsername}\n                          isShowButton={true}\n                          Save={UpdateDetails}\n                        />\n                      \n                     </div>\n                   </div>\n                 </div>\n                \n                \n               </div>\n\n             \n \n \n \n             </div>\n\n     \n           </div>\n \n         </div>\n     </div>\n     <ModalCard\n       Show={show}\n       Close={Close}\n       isShowLoader={isShowLoader}\n       ButtonName={\"upload profile\"}\n       content={<Content/>}\n       Save={Save}\n     /> \n     </>\n}\nexport default AdminProfile;"]},"metadata":{},"sourceType":"module"}