{"code":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]=this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]||[]).push([[32],{913:function(e,t,a){\"use strict\";a.r(t);var c=a(44),n=a.n(c),r=a(70),i=a(680),s=a(1),o=a(681),u=a(740),l=a(688),d=a(10);t.default=function(e){var t=e.socket,a=Object(s.useState)(!1),c=Object(i.a)(a,2),p=c[0],b=c[1],f=Object(s.useState)([]),j=Object(i.a)(f,2),O=j[0],m=j[1],x=Object(s.useState)(\"\"),h=Object(i.a)(x,2),k=h[0],v=h[1],g=Object(s.useState)(\"\"),F=Object(i.a)(g,2),S=F[0],_=F[1],w=function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.getOpenTickets();case 3:t=e.sent,console.log(t),a=[],t.data.forEach((function(e){var t={\"#Id\":e.task_id,image:y(e.user_profile),email:e.user_email,Odate:e.taskl_accepted_date,Action:I(e.user_email,e.task_id)};a.push(t)})),m(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){w()}),[]);var T=function(e,t){_(t),v(e),b(!p)},y=function(e){return Object(d.jsx)(\"img\",{style:{width:\"30px\",height:\"30px\",borderRadius:\"15px\"},src:e,alt:\"profile\"})},I=function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(\"button\",{style:{color:\"blue\"},onClick:function(){return T(e,t)},className:\"fa fa-reply btn\"})})};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(\"div\",{className:\"container card\",children:Object(d.jsx)(l.a,{products:O,columns:[{dataField:\"#Id\",text:\"TicketId(taskid)\"},{dataField:\"image\",text:\"Profile\",sort:!0},{dataField:\"email\",text:\"email\"},{dataField:\"Odate\",text:\"OpenDate\"},{dataField:\"Action\",text:\"Action\"}],title:\"SUPPORT TICKETS\"})}),p&&Object(d.jsx)(u.a,{open:p,SetOpen:T,email:k,socket:t,taskid:S})]})}}}]);","name":"static/js/32.c37af5b7.chunk.js","map":{"version":3,"sources":["static/js/32.c37af5b7.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","src_Api_Requests_Apirequest__WEBPACK_IMPORTED_MODULE_4__","_ChatBox_ChatBox__WEBPACK_IMPORTED_MODULE_5__","_table_TableCard__WEBPACK_IMPORTED_MODULE_6__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__","_ref","socket","_useState","Object","_useState2","open","setOpen","_useState3","_useState4","TICKETS","setTickects","_useState5","_useState6","email","setEmail","_useState7","_useState8","taskid","setTaskid","getOpentickets","_ref2","a","mark","_callee","result","organisedData","wrap","_context","prev","next","getOpenTickets","sent","console","log","data","forEach","element","dat","task_id","image","ProfileImage","user_profile","user_email","Odate","taskl_accepted_date","Action","Buttons","t0","stop","apply","arguments","Open","mail","style","width","height","borderRadius","src","alt","children","color","onClick","className","products","columns","dataField","text","sort","title","SetOpen"],"mappings":"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"},"input":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] = this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] || []).push([[32],{\n\n/***/ 913:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(44);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(680);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var src_Api_Requests_Apirequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(681);\n/* harmony import */ var _ChatBox_ChatBox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(740);\n/* harmony import */ var _table_TableCard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(688);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(10);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);\nvar Support=function Support(_ref){var socket=_ref.socket;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),_useState2=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),_useState4=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState3,2),TICKETS=_useState4[0],setTickects=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),_useState6=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),_useState8=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState7,2),taskid=_useState8[0],setTaskid=_useState8[1];var getOpentickets=/*#__PURE__*/function(){var _ref2=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(){var result,organisedData;return _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return src_Api_Requests_Apirequest__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].getOpenTickets();case 3:result=_context.sent;console.log(result);organisedData=[];result.data.forEach(function(element){var dat={\"#Id\":element.task_id,image:ProfileImage(element.user_profile),email:element.user_email,Odate:element.taskl_accepted_date,Action:Buttons(element.user_email,element.task_id)};organisedData.push(dat);});setTickects(organisedData);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getOpentickets(){return _ref2.apply(this,arguments);};}();Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function(){getOpentickets();},[]);var Open=function Open(mail,taskid){setTaskid(taskid);setEmail(mail);setOpen(!open);};var ProfileImage=function ProfileImage(image){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"img\",{style:{width:\"30px\",height:\"30px\",borderRadius:'15px'},src:image,alt:\"profile\"});};var Buttons=function Buttons(email,task_id){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"button\",{style:{color:\"blue\"},onClick:function onClick(){return Open(email,task_id);},className:\"fa fa-reply btn\"})});};var columns=[{dataField:\"#Id\",text:\"TicketId(taskid)\"},{dataField:\"image\",text:\"Profile\",sort:true},{dataField:\"email\",text:\"email\"},{dataField:\"Odate\",text:\"OpenDate\"},{dataField:\"Action\",text:\"Action\"}];return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"container card\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_table_TableCard__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{products:TICKETS,columns:columns,title:\"SUPPORT TICKETS\"})}),open&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_ChatBox_ChatBox__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{open:open,SetOpen:Open,email:email,socket:socket,taskid:taskid})]});};/* harmony default export */ __webpack_exports__[\"default\"] = (Support);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/writer/src/views/supportCenter/support.js"],"names":["Support","socket","useState","open","setOpen","TICKETS","setTickects","email","setEmail","taskid","setTaskid","getOpentickets","ApiRequest","getOpenTickets","result","console","log","organisedData","data","forEach","element","dat","task_id","image","ProfileImage","user_profile","user_email","Odate","taskl_accepted_date","Action","Buttons","push","useEffect","Open","mail","width","height","borderRadius","color","columns","dataField","text","sort"],"mappings":"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","file":"x","sourcesContent":["import { useEffect, useState } from \"react\";\nimport ApiRequest from \"src/Api/Requests/Apirequest\";\n\n\nimport ChatBox from \"../ChatBox/ChatBox\";\nimport TableCard from \"../table/TableCard\";\n\nconst Support = ({socket})=>{\n\n   const [open,setOpen]=useState(false);\n\n   const [TICKETS,setTickects] = useState([]);\n   const [email,setEmail] = useState('');\n  const [taskid,setTaskid] =useState('');\n\n    const getOpentickets = async ()=>{\n            try {\n              \n              const result = await ApiRequest.getOpenTickets();\n              console.log(result)\n              var organisedData =[];\n              result.data.forEach(element => {\n              var dat=  {\n\n                  \"#Id\":element.task_id,\n                   image:ProfileImage(element.user_profile),\n                  \n                   email:element.user_email,\n                   \n                   Odate:element.taskl_accepted_date,\n                   Action:Buttons(element.user_email,element.task_id)\n                }\n                organisedData.push(dat);\n              });\n\n              setTickects(organisedData);\n            } catch (error) {\n               console.log(error)\n            \n            }\n    }\n\n    useEffect(()=>{\n      getOpentickets();\n    },[]);\n\n    const Open=(mail,taskid)=>{\n      setTaskid(taskid);\n      setEmail(mail);\n      setOpen(!open);\n   }\n   const ProfileImage=image=>{\n    \n      return <img \n              style={{\n                width:\"30px\",\n                height:\"30px\",\n                borderRadius:'15px'\n                \n              }}\n          src={image} alt=\"profile\"/>\n    }\n   \n    const Buttons =(email,task_id)=>{\n      return <> \n           <button style={{color:\"blue\"}} onClick={()=>Open(email,task_id)}  className=\"fa fa-reply btn\"></button> \n         \n           \n       </>\n         }\n\n       \n   \n   const columns = [\n        {\n          dataField: \"#Id\",\n          text: \"TicketId(taskid)\",\n         \n        },\n        {\n          dataField: \"image\",\n          text: \"Profile\",\n        \n          sort: true\n        },\n       \n        {\n          dataField: \"email\",\n          text: \"email\",\n        \n        },\n       \n        {\n          \n            dataField: \"Odate\",\n            text: \"OpenDate\",\n          \n          \n        },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n    \n return <>  \n<div className=\"container card\">\n<TableCard products={TICKETS} columns={columns} title={\"SUPPORT TICKETS\"}/>\n</div>\n     \n{open && <ChatBox\n    open={open}\n    SetOpen={Open}\n    email={email}\n    socket={socket}\n    taskid={taskid}\n   />}\n   </>;\n}\n\nexport default Support;"]}}