{"code":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]=this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]||[]).push([[20],{866:function(e,t,a){\"use strict\";a.r(t);var n=a(180),c=a(43),s=a.n(c),i=a(70),r=a(679),o=a(1),d=a.n(o),u=a(691),b=a(684),j=a(685),l=a(682),p=a(22),O=function(e){var t=e.showSingleTasks,a=e.closeTask,n=e.invoiceId,c=Object(o.useState)([]),d=Object(r.a)(c,2),b=d[0],j=d[1],O=Object(o.useState)(\"\"),x=Object(r.a)(O,2),m=x[0],h=x[1],v=Object(o.useState)(\"\"),k=Object(r.a)(v,2),g=k[0],_=k[1],w=Object(o.useState)(\"\"),y=Object(r.a)(w,2),S=y[0],I=y[1],N=Object(o.useState)(0),T=Object(r.a)(N,2),D=T[0],C=T[1],E=Object(o.useState)(0),F=Object(r.a)(E,2),A=F[0],L=F[1],J=function(){var e=Object(i.a)(s.a.mark((function e(){var a,c,i,r,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.LoadInvoicesData(n);case 2:a=e.sent,c=[],i=\"\",r=\"\",o=0,d=0,0,a.data.forEach((function(e){var a={\"#order\":e.task_id,OrderName:e.task_name,Title:e.task_title,status:Object(p.jsx)(\"span\",{className:\"badge badge-danger\",children:e.task_status}),pstatus:Object(p.jsx)(\"span\",{className:\"badge badge-danger\",children:e.payment_status}),Created:e.task_created_date,Deadline:e.task_deadline,Service:e.task_service,Pages:e.pages,amount:e.payment_expected_amount,Action:Object(p.jsx)(\"button\",{className:\"btn btn-primary\",onClick:function(){return t(e.task_id)},children:\"Details\"})};r=e.writer_email,i=e.end_date,\"unpaid\"===e.payment_status&&(d+=Number(e.payment_expected_amount)),\"paid\"===e.payment_status&&(o+=Number(e.payment_expected_amount)),c.push(a)})),L(o+d),C(d),I(o),h(r),_(i),j(c);case 17:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){J()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(\"div\",{style:{height:\"60px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},className:\"card\",children:[Object(p.jsx)(\"div\",{style:{marginTop:\"20px\",marginLeft:\"10px\"},children:Object(p.jsx)(\"h5\",{children:\" \\xa0\"})}),Object(p.jsxs)(\"div\",{children:[\"click here to go back \",\"->\",\"\\xa0\",Object(p.jsx)(\"button\",{onClick:function(){return a()},className:\"fa fa-history\",style:f.button})]})]}),Object(p.jsx)(\"div\",{className:\"container-fluid jumbotron card bg-white text-dark\",children:Object(p.jsx)(\"div\",{children:Object(p.jsx)(u.a,{total:A,unpaid:D,paid:S,writerEmail:m,tableData:b,InvoiceEndate:g,showSingleTask:t})})})]})},f={button:Object(n.a)({marginTop:\"10px\",marginRight:\"10px\",border:\"0px\",outline:\"0px\",height:\"40px\",width:\"40px\",borderRadius:\"20px\"},\"border\",\"1px solid #ecff\")};t.default=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],c=Object(o.useState)(),u=Object(r.a)(c,2),f=u[0],x=u[1],m=Object(o.useState)(!1),h=Object(r.a)(m,2),v=h[0],k=h[1],g=Object(o.useState)(\"\"),_=Object(r.a)(g,2),w=_[0],y=_[1],S=Object(o.useState)([]),I=Object(r.a)(S,2),N=I[0],T=I[1],D=function(e){y(e),k(!0)},C=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.LoadInvoices();case 2:t=e.sent,console.log(t.data),a=[],t.data.forEach((function(e){var t={invoiceId:e.Invoice,created:e.created_date,pdate:e.end_date,Action:Object(p.jsx)(\"button\",{className:\"btn btn-info\",onClick:function(){return D(e.invoice_id)},children:\"Details\"})};a.push(t)})),T(a);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){C()}),[]);return Object(p.jsxs)(d.a.Fragment,{children:[!v&&Object(p.jsx)(j.a,{products:N,columns:[{dataField:\"invoiceId\",text:\"#Invoice Id\"},{dataField:\"created\",text:\"Created Date\"},{dataField:\"pdate\",text:\"Paid-Date\"},{dataField:\"Action\",text:\"Action\"}]}),v&&!a&&Object(p.jsx)(O,{invoiceId:w,closeTask:function(){n(!1),k(!1)},showSingleTasks:function(e){x(e),n(!0)}}),a&&Object(p.jsx)(b.a,{isAccept:!1,closeTask:function(){x(\"\"),n(!1)},id:f})]})}}}]);","name":"static/js/20.4b7b241c.chunk.js","map":{"version":3,"sources":["static/js/20.4b7b241c.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_4___default","_Invoice_invoice__WEBPACK_IMPORTED_MODULE_5__","_NewTask_taskDetails_singleTaskDetails__WEBPACK_IMPORTED_MODULE_6__","_table_TableCard__WEBPACK_IMPORTED_MODULE_7__","src_Api_Requests_Apirequest__WEBPACK_IMPORTED_MODULE_8__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__","Invoices","_ref","showSingleTasks","closeTask","invoiceId","_useState","Object","_useState2","InvoiceData","setInVoiceDat","_useState3","_useState4","email","setEmail","_useState5","_useState6","date","setDate","_useState7","_useState8","Paid","setPaid","_useState9","_useState10","unPaid","setunPaid","_useState11","_useState12","PaidTotal","setPaidTotal","getInVoiceData","_ref2","a","mark","_callee","result","organisedData","paid","Unpaid","wrap","_context","prev","next","LoadInvoicesData","sent","data","forEach","element","dat","task_id","OrderName","task_name","Title","task_title","status","className","children","task_status","pstatus","payment_status","Created","task_created_date","Deadline","task_deadline","Service","task_service","Pages","pages","amount","payment_expected_amount","Action","onClick","writer_email","end_date","Number","stop","apply","arguments","style","height","display","flexDirection","justifyContent","marginTop","marginLeft","button","total","unpaid","writerEmail","tableData","InvoiceEndate","showSingleTask","marginRight","border","outline","width","borderRadius","_useState13","_useState14","isSingleTaskOpen","setShowSingleTask","_useState15","_useState16","singleTaskId","setSingleTaskId","_useState17","_useState18","isShowInvoice","setShowInvoice","_useState19","_useState20","InvoiceId","setInvoiceId","_useState21","_useState22","Invoiced","setInvoices","ViewItemDetails","id","LoadInvoices","_ref3","_callee2","_context2","console","log","Invoice","created","created_date","pdate","invoice_id","Fragment","products","columns","dataField","text","isAccept"],"mappings":"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"},"input":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] = this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] || []).push([[20],{\n\n/***/ 866:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(180);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(43);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70);\n/* harmony import */ var _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(679);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Invoice_invoice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(691);\n/* harmony import */ var _NewTask_taskDetails_singleTaskDetails__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(684);\n/* harmony import */ var _table_TableCard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(685);\n/* harmony import */ var src_Api_Requests_Apirequest__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(682);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(22);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);\nvar Invoices=function Invoices(_ref){var showSingleTasks=_ref.showSingleTasks,closeTask=_ref.closeTask,invoiceId=_ref.invoiceId;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),_useState2=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState,2),InvoiceData=_useState2[0],setInVoiceDat=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState4=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState6=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState8=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState7,2),Paid=_useState8[0],setPaid=_useState8[1];var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(0),_useState10=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState9,2),unPaid=_useState10[0],setunPaid=_useState10[1];var _useState11=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(0),_useState12=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState11,2),PaidTotal=_useState12[0],setPaidTotal=_useState12[1];var getInVoiceData=/*#__PURE__*/function(){var _ref2=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(/*#__PURE__*/_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(){var result,organisedData,date,email,paid,Unpaid,total;return _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return src_Api_Requests_Apirequest__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].LoadInvoicesData(invoiceId);case 2:result=_context.sent;organisedData=[];date='';email='';paid=0;Unpaid=0;total=0;result.data.forEach(function(element){var dat={\"#order\":element.task_id,\"OrderName\":element.task_name,\"Title\":element.task_title,\"status\":/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"badge badge-danger\",children:element.task_status}),\"pstatus\":/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"badge badge-danger\",children:element.payment_status}),\"Created\":element.task_created_date,\"Deadline\":element.task_deadline,\"Service\":element.task_service,\"Pages\":element.pages,\"amount\":element.payment_expected_amount,\"Action\":/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return showSingleTasks(element.task_id);},children:\"Details\"})};email=element.writer_email;date=element.end_date;if(element.payment_status==='unpaid'){Unpaid=Unpaid+Number(element.payment_expected_amount);}if(element.payment_status==='paid'){paid=paid+Number(element.payment_expected_amount);}organisedData.push(dat);});total=paid+Unpaid;setPaidTotal(total);setunPaid(Unpaid);setPaid(paid);setEmail(email);setDate(date);setInVoiceDat(organisedData);case 17:case\"end\":return _context.stop();}}},_callee);}));return function getInVoiceData(){return _ref2.apply(this,arguments);};}();Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function(){getInVoiceData();},[]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{style:{height:'60px',display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},className:\"card\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{style:{marginTop:\"20px\",marginLeft:\"10px\"},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"h5\",{children:\" \\xA0\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{children:[\"click here to go back \",\"->\",\"\\xA0\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"button\",{onClick:function onClick(){return closeTask();},className:\"fa fa-history\",style:style.button})]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"container-fluid jumbotron card bg-white text-dark\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_Invoice_invoice__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{total:PaidTotal,unpaid:unPaid,paid:Paid,writerEmail:email,tableData:InvoiceData,InvoiceEndate:date,showSingleTask:showSingleTasks})})})]});};var PaymentHistory=function PaymentHistory(){var _useState13=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState14=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState13,2),isSingleTaskOpen=_useState14[0],setShowSingleTask=_useState14[1];var _useState15=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(),_useState16=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState15,2),singleTaskId=_useState16[0],setSingleTaskId=_useState16[1];var handleShowSingleTask=function handleShowSingleTask(id){setSingleTaskId(id);setShowSingleTask(true);};var handleCloseTask=function handleCloseTask(){setSingleTaskId('');setShowSingleTask(false);};var closeTask=function closeTask(){setShowSingleTask(false);setShowInvoice(false);};var _useState17=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState18=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState17,2),isShowInvoice=_useState18[0],setShowInvoice=_useState18[1];var _useState19=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState20=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState19,2),InvoiceId=_useState20[0],setInvoiceId=_useState20[1];var _useState21=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),_useState22=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState21,2),Invoiced=_useState22[0],setInvoices=_useState22[1];var ViewItemDetails=function ViewItemDetails(id){//alert(id);\nsetInvoiceId(id);setShowInvoice(true);};var LoadInvoices=/*#__PURE__*/function(){var _ref3=Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(/*#__PURE__*/_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(){var data,organisedData;return _Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return src_Api_Requests_Apirequest__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].LoadInvoices();case 2:data=_context2.sent;console.log(data.data);organisedData=[];data.data.forEach(function(element){var dat={invoiceId:element.Invoice,created:element.created_date,pdate:element.end_date,Action:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"button\",{className:\"btn btn-info\",onClick:function onClick(){return ViewItemDetails(element.invoice_id);},children:\"Details\"})};organisedData.push(dat);});setInvoices(organisedData);//console.log(data.data);\ncase 7:case\"end\":return _context2.stop();}}},_callee2);}));return function LoadInvoices(){return _ref3.apply(this,arguments);};}();Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function(){LoadInvoices();},[]);var columns=[{dataField:\"invoiceId\",text:\"#Invoice Id\"},{dataField:\"created\",text:\"Created Date\"},{dataField:\"pdate\",text:\"Paid-Date\"},{dataField:\"Action\",text:\"Action\"}];var data=[{\"#invoice\":\"committee-c15dw\",\"writername\":\"editor-ktsjo\",\"datepaid\":\"2021-07-7\",\"action\":/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"button\",{className:\"btn btn-info\",onClick:function onClick(){return ViewItemDetails(5);},children:\"Details\"})}];return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,{children:[!isShowInvoice&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_table_TableCard__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],{products:Invoiced,columns:columns}),isShowInvoice&&!isSingleTaskOpen&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(Invoices,{invoiceId:InvoiceId,closeTask:closeTask,showSingleTasks:handleShowSingleTask}),isSingleTaskOpen&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_NewTask_taskDetails_singleTaskDetails__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{isAccept:false,closeTask:handleCloseTask,id:singleTaskId})]});};var style={button:Object(_Users_tony_Documents_Projects_react_Writer_writer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({marginTop:\"10px\",marginRight:'10px',border:\"0px\",outline:\"0px\",height:\"40px\",width:\"40px\",borderRadius:\"20px\"},\"border\",\"1px solid #ecff\")};/* harmony default export */ __webpack_exports__[\"default\"] = (PaymentHistory);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/writer/src/views/base/Finaces/paymentHistory/index.js"],"names":["Invoices","showSingleTasks","closeTask","invoiceId","useState","InvoiceData","setInVoiceDat","email","setEmail","date","setDate","Paid","setPaid","unPaid","setunPaid","PaidTotal","setPaidTotal","getInVoiceData","ApiRequest","LoadInvoicesData","result","organisedData","paid","Unpaid","total","data","forEach","element","dat","task_id","task_name","task_title","task_status","payment_status","task_created_date","task_deadline","task_service","pages","payment_expected_amount","writer_email","end_date","Number","push","useEffect","height","display","flexDirection","justifyContent","marginTop","marginLeft","style","button","PaymentHistory","isSingleTaskOpen","setShowSingleTask","singleTaskId","setSingleTaskId","handleShowSingleTask","id","handleCloseTask","setShowInvoice","isShowInvoice","InvoiceId","setInvoiceId","Invoiced","setInvoices","ViewItemDetails","LoadInvoices","console","log","Invoice","created","created_date","pdate","Action","invoice_id","columns","dataField","text","marginRight","border","outline","width","borderRadius"],"mappings":"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","file":"x","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Invoice from \"../../Invoice/invoice\";\nimport SingeleTask from \"../../NewTask/taskDetails/singleTaskDetails\";\nimport TableCard from \"../../../table/TableCard\";\nimport ApiRequest from \"src/Api/Requests/Apirequest\";\n\n\n\n\nconst Invoices = ({showSingleTasks,closeTask,invoiceId})=>{\n      const [InvoiceData,setInVoiceDat] = useState([]);\n      const [email,setEmail] = useState('');\n      const [date,setDate] = useState('');\n      const [Paid,setPaid] = useState('');\n      const [unPaid,setunPaid] = useState(0);\n      const [PaidTotal,setPaidTotal] = useState(0);\n\n      const getInVoiceData=async ()=>{\n           const result = await ApiRequest.LoadInvoicesData(invoiceId);\n\n           \n       const organisedData =[];\n       var date = '';\n       var email ='';\n       var paid =0;\n       var Unpaid =0;\n       var total = 0;\n      result.data.forEach(element => {\n               var dat ={\n                   \"#order\": element.task_id,\n                   \"OrderName\": element.task_name,\n                   \"Title\": element.task_title,\n                   \"status\": <span className=\"badge badge-danger\">{element.task_status}</span>,\n                   \"pstatus\":<span className=\"badge badge-danger\">{element.payment_status}</span>,\n                   \"Created\": element.task_created_date,\n                   \"Deadline\": element.task_deadline,\n                   \"Service\": element.task_service,\n                   \"Pages\": element.pages,\n                   \"amount\":element.payment_expected_amount,\n                   \"Action\":<button className=\"btn btn-primary\" onClick={()=>showSingleTasks(element.task_id)}>Details</button>\n               } \n\n             email=element.writer_email;\n             date = element.end_date;\n             if(element.payment_status === 'unpaid'){\n                 Unpaid = Unpaid + Number(element.payment_expected_amount);\n             }\n             if(element.payment_status === 'paid'){\n                paid = paid + Number(element.payment_expected_amount);\n            }\n\n               \n               organisedData.push(dat);\n      });\n      total = paid +Unpaid;\n      setPaidTotal(total);\n      setunPaid(Unpaid);\n      setPaid(paid);\n      setEmail(email);\n      setDate(date);\n      setInVoiceDat(organisedData);\n      }\n\n      useEffect(()=>{\n         getInVoiceData();\n      },[]);\n       \n    return <>\n         <div style={{height:'60px',display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}} className=\"card\">\n         <div style={{marginTop:\"20px\",marginLeft:\"10px\"}}><h5> &nbsp;</h5></div>\n        <div>\n            click here to go back {\"->\"}&nbsp;\n            <button onClick={()=>closeTask()} className=\"fa fa-history\"  style={style.button}>\n       \n            </button></div>\n     </div>\n  <div className=\"container-fluid jumbotron card bg-white text-dark\">\n       <div>\n       <Invoice total={PaidTotal} unpaid={unPaid} paid={Paid} writerEmail={email} tableData={InvoiceData} InvoiceEndate={date} showSingleTask={showSingleTasks}/>\n       </div>\n     \n  </div>\n    </>\n}\nconst PaymentHistory=()=>{\n\n    const [isSingleTaskOpen,setShowSingleTask] = useState(false);\n    const [singleTaskId,setSingleTaskId] = useState();\n  \n    const handleShowSingleTask=(id)=>{\n      \n          setSingleTaskId(id);\n          setShowSingleTask(true);\n    }\n    \n  \n    const handleCloseTask=()=>{\n       setSingleTaskId('');\n       setShowSingleTask(false);\n    }\n\n    const closeTask =()=>{\n        setShowSingleTask(false);\n        setShowInvoice(false)\n    }\n\n    const [isShowInvoice,setShowInvoice]=useState(false);\n    const [InvoiceId,setInvoiceId] = useState('');\n    \n    const [Invoiced,setInvoices]= useState([]);\n    const ViewItemDetails =(id)=>{\n       //alert(id);\n       setInvoiceId(id);\n       setShowInvoice(true);\n    }\n\n\n\n    const LoadInvoices = async ()=>{\n        \n        const data = await ApiRequest.LoadInvoices();\n        console.log(data.data)\n         var organisedData=[];\n        data.data.forEach(element => {\n             var dat ={\n              invoiceId:element.Invoice,\n              created:element.created_date,\n              pdate:element.end_date,\n              Action: <button className=\"btn btn-info\" onClick={()=>ViewItemDetails(element.invoice_id)}>Details</button>\n            \n             }\n\n             organisedData.push(dat);\n        });\n\n        setInvoices(organisedData);\n        \n        //console.log(data.data);\n   }\n\n   useEffect(()=>{\n      LoadInvoices();\n   },[]);\n    \n\n    const columns = [\n      \n        {\n          dataField: \"invoiceId\",\n          text: \"#Invoice Id\",\n       \n        },\n      \n        {\n          \n            dataField: \"created\",\n            text: \"Created Date\",\n          \n          \n        },\n        {\n          \n          dataField: \"pdate\",\n          text: \"Paid-Date\",\n       },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n\n\n     const data=[\n         {\n            \"#invoice\": \"committee-c15dw\",\n            \"writername\": \"editor-ktsjo\",\n            \"datepaid\": \"2021-07-7\",\n            \"action\": <button className=\"btn btn-info\" onClick={()=>ViewItemDetails(5)}>Details</button>\n         }\n     ]\n    return <React.Fragment>\n        {!isShowInvoice &&<TableCard products={Invoiced} columns={columns} />}\n        {isShowInvoice && !isSingleTaskOpen && <Invoices invoiceId={InvoiceId} closeTask={closeTask} showSingleTasks={handleShowSingleTask}/>}\n        {isSingleTaskOpen &&<SingeleTask isAccept={false} closeTask={handleCloseTask} id={singleTaskId}/>}\n    </React.Fragment>\n}\n\nconst style={\n    button:{\n       marginTop:\"10px\",\n       marginRight:'10px',\n       border:\"0px\",\n       outline:\"0px\",\n       height:\"40px\",\n       width:\"40px\",\n       borderRadius:\"20px\",\n       border:\"1px solid #ecff\"\n    }\n}\n\nexport default PaymentHistory;"]}}