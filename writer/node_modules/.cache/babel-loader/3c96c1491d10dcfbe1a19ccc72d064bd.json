{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{UrlParams}from'src/Api/auth/UrlParams';import'../login/login.css';import swal from\"sweetalert\";import Loader from'react-loader-spinner';import ApiRequest from'src/Api/Requests/Apirequest';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Activate=function Activate(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),Key=_useState2[0],setKey=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),btn=_useState4[0],setBtn=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),save=_useState6[0],SetSave=_useState6[1];function showError(data){// alert(data);\n// swal(\"LOGIN FAILED\",data,'error','1000');\nswal({title:\"Activation Failed\",text:data,icon:\"error\",timer:3000});setBtn(false);}var HandleFunc=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(Key){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ApiRequest.ActivateAcount(Key);case 3:result=_context.sent;SetSave(false);setBtn(true);if(result.data==='done'){swal('success','Account activated successfully','success');SetSave(false);setTimeout(function(){window.location.href='/#/Login';},2000);}else{showError(result.data);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function HandleFunc(_x){return _ref.apply(this,arguments);};}();var ActivateAccount=function ActivateAccount(e){if(e!==undefined){e.preventDefault();};SetSave(true);setBtn(true);setTimeout(function(){//if(Key !==''){\nHandleFunc(Key);//  }\n//showError('wrong key')\n// SetSave(false);\n},2000);};var Check=function Check(){var Key=UrlParams('Key');if(!Key==false){setKey(Key);setBtn(true);HandleFunc(Key);//ActivateAccount(Key);\n}};useEffect(function(){Check();//alert(Key);\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"myModal\",class:\"show\",children:/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#f1f1\",marginTop:\"10%\"},class:\"modal-dialog modal-login\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"avatar\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://www.tutorialrepublic.com/examples/images/avatar.png\",alt:\"Avatar\"})}),/*#__PURE__*/_jsx(\"h4\",{class:\"modal-title\",children:\"Activate Account\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",method:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:Key,onChange:function onChange(e){return setKey(e.target.value);},class:\"form-control\",name:\"key\",placeholder:\"Activation Key\",required:\"required\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(e){return ActivateAccount(e);},disabled:btn,class:\"btn btn-primary btn-lg btn-block login-btn\",children:\"Activate Account\"})})]})})]})})}),save&&/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(Loader,{type:\"Circles\",color:\"#00BFFF\",height:100,width:100//3 secs\n})})]});};export default Activate;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/writer/src/views/pages/activate/activate.js"],"names":["useEffect","useState","UrlParams","swal","Loader","ApiRequest","Activate","Key","setKey","btn","setBtn","save","SetSave","showError","data","title","text","icon","timer","HandleFunc","ActivateAcount","result","setTimeout","window","location","href","console","log","ActivateAccount","e","undefined","preventDefault","Check","backgroundColor","marginTop","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { UrlParams } from 'src/Api/auth/UrlParams';\nimport '../login/login.css';\nimport swal from \"sweetalert\";\nimport Loader from 'react-loader-spinner';\nimport ApiRequest from 'src/Api/Requests/Apirequest';\nconst Activate=()=>{\n    const [Key,setKey] = useState('');\n    const [btn,setBtn] = useState(false);\n    const [save,SetSave] = useState(false);\n\n\nfunction showError(data){\n   // alert(data);\n     // swal(\"LOGIN FAILED\",data,'error','1000');\n     swal({\n      title: \"Activation Failed\",\n      text: data,\n      icon:Â \"error\",\n      timer: 3000\n   });\n   setBtn(false);\n  }\n\n  const HandleFunc =async (Key)=>{\n   try {\n       var result = await ApiRequest.ActivateAcount(Key);\n         SetSave(false);\n         setBtn(true);\n       if(result.data === 'done'){\n           swal('success','Account activated successfully','success');\n           SetSave(false);\n           setTimeout(() => {\n            window.location.href='/#/Login';\n          }, 2000);\n\n       } else{\n           showError(result.data);\n       }\n     } catch (error) {\n        console.log(error) \n     }\n  }\nconst ActivateAccount=(e)=>{\n   if(e !==undefined){\n       e.preventDefault();\n   };\n         SetSave(true);\n         setBtn(true);\n         setTimeout(() => {\n             //if(Key !==''){\n                HandleFunc(Key);\n               \n                \n                \n           //  }\n             //showError('wrong key')\n            // SetSave(false);\n         }, 2000);\n\n}\n\nconst Check=()=>{\n   const Key = UrlParams('Key');\n   \n   if(!Key==false){\n       setKey(Key);\n       setBtn(true);\nHandleFunc(Key);\n     //ActivateAccount(Key);\n   }\n}\n\nuseEffect(()=>{\n Check();\n  //alert(Key);\n},[])\n\n    return <>   \n    <div  id=\"myModal\" class=\"show\">\n  <div style={{backgroundColor:\"#f1f1\",marginTop:\"10%\"}} class=\"modal-dialog modal-login\">\n      <div class=\"modal-content\">\n          <div class=\"modal-header\">\n              <div class=\"avatar\">\n                  <img src=\"https://www.tutorialrepublic.com/examples/images/avatar.png\" alt=\"Avatar\"/>\n              </div>\t\t\t\t\n              <h4 class=\"modal-title\">Activate Account</h4>\t\n              \n              \n          </div>\n          <div class=\"modal-body\">\n              <form action=\"\" method=\"post\">\n                \n                  <div class=\"form-group\">\n                      <input type=\"number\" value={Key} onChange={(e)=>setKey(e.target.value)} class=\"form-control\" name=\"key\" placeholder=\"Activation Key\" required=\"required\"/>\t\n                  </div>        \n                  <div class=\"form-group\">\n                      <button type=\"submit\" onClick={(e)=>ActivateAccount(e)} disabled={btn} class=\"btn btn-primary btn-lg btn-block login-btn\">Activate Account</button>\n                  </div>\n              </form>\n          </div>\n        \n      </div>\n  </div>\n</div>  \n{ save && <div className=\"spinner\">\n    \n  \n    <Loader\n  type=\"Circles\"\n  color=\"#00BFFF\"\n  height={100}\n  width={100}\n  //3 secs\n  />\n  </div>\n  } \n</>\n}\n\nexport default Activate;"]},"metadata":{},"sourceType":"module"}