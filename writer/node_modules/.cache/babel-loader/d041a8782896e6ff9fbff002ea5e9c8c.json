{"ast":null,"code":"import _defineProperty from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Invoice from\"../../Invoice/invoice\";import SingeleTask from\"../../NewTask/taskDetails/singleTaskDetails\";import TableCard from\"../../../table/TableCard\";import ApiRequest from\"src/Api/Requests/Apirequest\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Invoices=function Invoices(_ref){var showSingleTasks=_ref.showSingleTasks,closeTask=_ref.closeTask,invoiceId=_ref.invoiceId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),InvoiceData=_useState2[0],setInVoiceDat=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),Paid=_useState8[0],setPaid=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),unPaid=_useState10[0],setunPaid=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),PaidTotal=_useState12[0],setPaidTotal=_useState12[1];var getInVoiceData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,organisedData,date,email,paid,Unpaid,total;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ApiRequest.LoadInvoicesData(invoiceId);case 2:result=_context.sent;organisedData=[];date='';email='';paid=0;Unpaid=0;total=0;result.data.forEach(function(element){var dat={\"#order\":element.task_id,\"OrderName\":element.task_name,\"Title\":element.task_title,\"status\":/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-danger\",children:element.task_status}),\"pstatus\":/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-danger\",children:element.payment_status}),\"Created\":element.task_created_date,\"Deadline\":element.task_deadline,\"Service\":element.task_service,\"Pages\":element.pages,\"amount\":element.payment_expected_amount,\"Action\":/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return showSingleTasks(element.task_id);},children:\"Details\"})};email=element.writer_email;date=element.end_date;if(element.payment_status==='unpaid'){Unpaid=Unpaid+Number(element.payment_expected_amount);}if(element.payment_status==='paid'){paid=paid+Number(element.payment_expected_amount);}organisedData.push(dat);});total=paid+Unpaid;setPaidTotal(total);setunPaid(Unpaid);setPaid(paid);setEmail(email);setDate(date);setInVoiceDat(organisedData);case 17:case\"end\":return _context.stop();}}},_callee);}));return function getInVoiceData(){return _ref2.apply(this,arguments);};}();useEffect(function(){getInVoiceData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{height:'60px',display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"20px\",marginLeft:\"10px\"},children:/*#__PURE__*/_jsx(\"h5\",{children:\" \\xA0\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"click here to go back \",\"->\",\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return closeTask();},className:\"fa fa-history\",style:style.button})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid jumbotron card bg-white text-dark\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Invoice,{total:PaidTotal,unpaid:unPaid,paid:Paid,writerEmail:email,tableData:InvoiceData,InvoiceEndate:date,showSingleTask:showSingleTasks})})})]});};var PaymentHistory=function PaymentHistory(){var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isSingleTaskOpen=_useState14[0],setShowSingleTask=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),singleTaskId=_useState16[0],setSingleTaskId=_useState16[1];var handleShowSingleTask=function handleShowSingleTask(id){setSingleTaskId(id);setShowSingleTask(true);};var handleCloseTask=function handleCloseTask(){setSingleTaskId('');setShowSingleTask(false);};var closeTask=function closeTask(){setShowSingleTask(false);setShowInvoice(false);};var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isShowInvoice=_useState18[0],setShowInvoice=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),InvoiceId=_useState20[0],setInvoiceId=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),Invoiced=_useState22[0],setInvoices=_useState22[1];var ViewItemDetails=function ViewItemDetails(id){//alert(id);\nsetInvoiceId(id);setShowInvoice(true);};var LoadInvoices=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data,organisedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ApiRequest.LoadInvoices();case 2:data=_context2.sent;console.log(data.data);organisedData=[];data.data.forEach(function(element){var dat={invoiceId:element.Invoice,created:element.created_date,pdate:element.end_date,Action:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:function onClick(){return ViewItemDetails(element.invoice_id);},children:\"Details\"})};organisedData.push(dat);});setInvoices(organisedData);//console.log(data.data);\ncase 7:case\"end\":return _context2.stop();}}},_callee2);}));return function LoadInvoices(){return _ref3.apply(this,arguments);};}();useEffect(function(){LoadInvoices();},[]);var columns=[{dataField:\"invoiceId\",text:\"#Invoice Id\"},{dataField:\"created\",text:\"Created Date\"},{dataField:\"pdate\",text:\"Paid-Date\"},{dataField:\"Action\",text:\"Action\"}];var data=[{\"#invoice\":\"committee-c15dw\",\"writername\":\"editor-ktsjo\",\"datepaid\":\"2021-07-7\",\"action\":/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:function onClick(){return ViewItemDetails(5);},children:\"Details\"})}];return/*#__PURE__*/_jsxs(React.Fragment,{children:[!isShowInvoice&&/*#__PURE__*/_jsx(TableCard,{products:Invoiced,columns:columns}),isShowInvoice&&!isSingleTaskOpen&&/*#__PURE__*/_jsx(Invoices,{invoiceId:InvoiceId,closeTask:closeTask,showSingleTasks:handleShowSingleTask}),isSingleTaskOpen&&/*#__PURE__*/_jsx(SingeleTask,{isAccept:false,closeTask:handleCloseTask,id:singleTaskId})]});};var style={button:_defineProperty({marginTop:\"10px\",marginRight:'10px',border:\"0px\",outline:\"0px\",height:\"40px\",width:\"40px\",borderRadius:\"20px\"},\"border\",\"1px solid #ecff\")};export default PaymentHistory;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/writer/src/views/base/Finaces/paymentHistory/index.js"],"names":["React","useEffect","useState","Invoice","SingeleTask","TableCard","ApiRequest","Invoices","showSingleTasks","closeTask","invoiceId","InvoiceData","setInVoiceDat","email","setEmail","date","setDate","Paid","setPaid","unPaid","setunPaid","PaidTotal","setPaidTotal","getInVoiceData","LoadInvoicesData","result","organisedData","paid","Unpaid","total","data","forEach","element","dat","task_id","task_name","task_title","task_status","payment_status","task_created_date","task_deadline","task_service","pages","payment_expected_amount","writer_email","end_date","Number","push","height","display","flexDirection","justifyContent","marginTop","marginLeft","style","button","PaymentHistory","isSingleTaskOpen","setShowSingleTask","singleTaskId","setSingleTaskId","handleShowSingleTask","id","handleCloseTask","setShowInvoice","isShowInvoice","InvoiceId","setInvoiceId","Invoiced","setInvoices","ViewItemDetails","LoadInvoices","console","log","created","created_date","pdate","Action","invoice_id","columns","dataField","text","marginRight","border","outline","width","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Invoice from \"../../Invoice/invoice\";\nimport SingeleTask from \"../../NewTask/taskDetails/singleTaskDetails\";\nimport TableCard from \"../../../table/TableCard\";\nimport ApiRequest from \"src/Api/Requests/Apirequest\";\n\n\n\n\nconst Invoices = ({showSingleTasks,closeTask,invoiceId})=>{\n      const [InvoiceData,setInVoiceDat] = useState([]);\n      const [email,setEmail] = useState('');\n      const [date,setDate] = useState('');\n      const [Paid,setPaid] = useState('');\n      const [unPaid,setunPaid] = useState(0);\n      const [PaidTotal,setPaidTotal] = useState(0);\n\n      const getInVoiceData=async ()=>{\n           const result = await ApiRequest.LoadInvoicesData(invoiceId);\n\n           \n       const organisedData =[];\n       var date = '';\n       var email ='';\n       var paid =0;\n       var Unpaid =0;\n       var total = 0;\n      result.data.forEach(element => {\n               var dat ={\n                   \"#order\": element.task_id,\n                   \"OrderName\": element.task_name,\n                   \"Title\": element.task_title,\n                   \"status\": <span className=\"badge badge-danger\">{element.task_status}</span>,\n                   \"pstatus\":<span className=\"badge badge-danger\">{element.payment_status}</span>,\n                   \"Created\": element.task_created_date,\n                   \"Deadline\": element.task_deadline,\n                   \"Service\": element.task_service,\n                   \"Pages\": element.pages,\n                   \"amount\":element.payment_expected_amount,\n                   \"Action\":<button className=\"btn btn-primary\" onClick={()=>showSingleTasks(element.task_id)}>Details</button>\n               } \n\n             email=element.writer_email;\n             date = element.end_date;\n             if(element.payment_status === 'unpaid'){\n                 Unpaid = Unpaid + Number(element.payment_expected_amount);\n             }\n             if(element.payment_status === 'paid'){\n                paid = paid + Number(element.payment_expected_amount);\n            }\n\n               \n               organisedData.push(dat);\n      });\n      total = paid +Unpaid;\n      setPaidTotal(total);\n      setunPaid(Unpaid);\n      setPaid(paid);\n      setEmail(email);\n      setDate(date);\n      setInVoiceDat(organisedData);\n      }\n\n      useEffect(()=>{\n         getInVoiceData();\n      },[]);\n       \n    return <>\n         <div style={{height:'60px',display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}} className=\"card\">\n         <div style={{marginTop:\"20px\",marginLeft:\"10px\"}}><h5> &nbsp;</h5></div>\n        <div>\n            click here to go back {\"->\"}&nbsp;\n            <button onClick={()=>closeTask()} className=\"fa fa-history\"  style={style.button}>\n       \n            </button></div>\n     </div>\n  <div className=\"container-fluid jumbotron card bg-white text-dark\">\n       <div>\n       <Invoice total={PaidTotal} unpaid={unPaid} paid={Paid} writerEmail={email} tableData={InvoiceData} InvoiceEndate={date} showSingleTask={showSingleTasks}/>\n       </div>\n     \n  </div>\n    </>\n}\nconst PaymentHistory=()=>{\n\n    const [isSingleTaskOpen,setShowSingleTask] = useState(false);\n    const [singleTaskId,setSingleTaskId] = useState();\n  \n    const handleShowSingleTask=(id)=>{\n      \n          setSingleTaskId(id);\n          setShowSingleTask(true);\n    }\n    \n  \n    const handleCloseTask=()=>{\n       setSingleTaskId('');\n       setShowSingleTask(false);\n    }\n\n    const closeTask =()=>{\n        setShowSingleTask(false);\n        setShowInvoice(false)\n    }\n\n    const [isShowInvoice,setShowInvoice]=useState(false);\n    const [InvoiceId,setInvoiceId] = useState('');\n    \n    const [Invoiced,setInvoices]= useState([]);\n    const ViewItemDetails =(id)=>{\n       //alert(id);\n       setInvoiceId(id);\n       setShowInvoice(true);\n    }\n\n\n\n    const LoadInvoices = async ()=>{\n        \n        const data = await ApiRequest.LoadInvoices();\n        console.log(data.data)\n         var organisedData=[];\n        data.data.forEach(element => {\n             var dat ={\n              invoiceId:element.Invoice,\n              created:element.created_date,\n              pdate:element.end_date,\n              Action: <button className=\"btn btn-info\" onClick={()=>ViewItemDetails(element.invoice_id)}>Details</button>\n            \n             }\n\n             organisedData.push(dat);\n        });\n\n        setInvoices(organisedData);\n        \n        //console.log(data.data);\n   }\n\n   useEffect(()=>{\n      LoadInvoices();\n   },[]);\n    \n\n    const columns = [\n      \n        {\n          dataField: \"invoiceId\",\n          text: \"#Invoice Id\",\n       \n        },\n      \n        {\n          \n            dataField: \"created\",\n            text: \"Created Date\",\n          \n          \n        },\n        {\n          \n          dataField: \"pdate\",\n          text: \"Paid-Date\",\n       },\n        {\n            dataField: \"Action\",\n            text: \"Action\",\n         \n          }\n      ];\n\n\n     const data=[\n         {\n            \"#invoice\": \"committee-c15dw\",\n            \"writername\": \"editor-ktsjo\",\n            \"datepaid\": \"2021-07-7\",\n            \"action\": <button className=\"btn btn-info\" onClick={()=>ViewItemDetails(5)}>Details</button>\n         }\n     ]\n    return <React.Fragment>\n        {!isShowInvoice &&<TableCard products={Invoiced} columns={columns} />}\n        {isShowInvoice && !isSingleTaskOpen && <Invoices invoiceId={InvoiceId} closeTask={closeTask} showSingleTasks={handleShowSingleTask}/>}\n        {isSingleTaskOpen &&<SingeleTask isAccept={false} closeTask={handleCloseTask} id={singleTaskId}/>}\n    </React.Fragment>\n}\n\nconst style={\n    button:{\n       marginTop:\"10px\",\n       marginRight:'10px',\n       border:\"0px\",\n       outline:\"0px\",\n       height:\"40px\",\n       width:\"40px\",\n       borderRadius:\"20px\",\n       border:\"1px solid #ecff\"\n    }\n}\n\nexport default PaymentHistory;"]},"metadata":{},"sourceType":"module"}