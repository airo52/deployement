{"ast":null,"code":"import _objectSpread from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tony/Documents/Projects/react/Writer/writer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{HashRouter,Route,Switch,useHistory}from'react-router-dom';import{requestRefreshToken,veryAccessTokens}from'./Api/authThenticateToken';import'./scss/style.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var loading=/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sk-spinner sk-spinner-pulse\"})});// Containers\nvar TheLayout=/*#__PURE__*/React.lazy(function(){return import('./containers/TheLayout');});var Login=/*#__PURE__*/React.lazy(function(){return import('./views/pages/login/Login');});var Activate=/*#__PURE__*/React.lazy(function(){return import('./views/pages/activate/activate');});var Forgot=/*#__PURE__*/React.lazy(function(){return import('./views/pages/activate/forgot');});var Home=/*#__PURE__*/React.lazy(function(){return import('./views/pages/Home/home');});var Terms=/*#__PURE__*/React.lazy(function(){return import('./views/pages/Home/Terms');});var ConfirmPayment=/*#__PURE__*/React.lazy(function(){return import('./views/pages/activate/ConfirmPayment');});// Pages\n/*\n\nconst Register = React.lazy(() => import('./views/pages/register/Register'));\nconst Page404 = React.lazy(() => import('./views/pages/page404/Page404'));\nconst Page500 = React.lazy(() => import('./views/pages/page500/Page500'));\n*/function NotFound(){var history=useHistory();return/*#__PURE__*/_jsx(\"div\",{style:{margin:\"300px auto\"},className:\"page-wrap d-flex flex-row align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"display-1 d-block\",children:\"404\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 lead\",children:\"The page you are looking for was not found.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-simple\",onClick:function onClick(){return history.goBack();},children:\"Go Back\"})]})})})});}var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleProfile=function(data){var username=data.username,profile=data.profile,email=data.email;//alert(username)\n_this.setState({username:username,profile:profile,home:true,email:email});};_this.route=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var ta,tr,check,checkRefresh;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://this.state.home == true?\"\":window.location.href=\"/#/auth\";\nta=localStorage.getItem('wat');tr=localStorage.getItem('wtr');_context.next=4;return veryAccessTokens(ta,_this.handleProfile);case 4:check=_context.sent;if(!(check==true)){_context.next=9;break;}_this.setState({home:true});_context.next=14;break;case 9:if(!(check==false)){_context.next=14;break;}_context.next=12;return requestRefreshToken(tr,_this.handleProfile);case 12:checkRefresh=_context.sent;if(checkRefresh==true){_this.setState({home:true});}case 14:if(!_this.state.home){window.location.href=\"/#/\";}case 15:case\"end\":return _context.stop();}}},_callee);}));_this.componentDidMount=function(){var url=window.location.href.split('/#/')[1];if(url===\"auth/activate\"){}else if(url===\"confirm\"){}else{if(url.split('?')[0]===\"auth/activate\"){//console.log(url);\n}else if(url.split('?')[0]===\"confirm\"){}else{_this.route();}}};_this.state={username:\"\",profile:\"\",home:false,email:'',ENDPOINT:'localhost:4000'};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsx(React.Suspense,{fallback:loading,children:/*#__PURE__*/_jsxs(Switch,{children:[!this.state.home&&/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",name:\"Login Page\",render:function render(props){return/*#__PURE__*/_jsx(Login,_objectSpread({Profile:_this2.handleProfile},props));}}),!this.state.home&&/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",name:\"Home Page\",render:function render(props){return/*#__PURE__*/_jsx(Home,_objectSpread({},props));}}),!this.state.home&&/*#__PURE__*/_jsx(Route,{exact:true,path:\"/auth/ForgotPassWord\",name:\"Forgot\",render:function render(props){return/*#__PURE__*/_jsx(Forgot,_objectSpread({},props));}}),!this.state.home&&/*#__PURE__*/_jsx(Route,{exact:true,path:\"/auth/activate\",name:\"Login Page\",render:function render(props){return/*#__PURE__*/_jsx(Activate,_objectSpread({},props));}}),this.state.home&&/*#__PURE__*/_jsx(Route,{path:\"/\",name:\"Home\",render:function render(props){return/*#__PURE__*/_jsx(TheLayout,_objectSpread({email:_this2.state.email,Uname:_this2.state.username,Pfile:_this2.state.profile},props));}}),!this.state.home&&/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Terms\",name:\"Home Page\",render:function render(props){return/*#__PURE__*/_jsx(Terms,_objectSpread({},props));}}),!this.state.home&&/*#__PURE__*/_jsx(Route,{exact:true,path:\"/confirm\",name:\"confirm\",render:function render(props){return/*#__PURE__*/_jsx(ConfirmPayment,_objectSpread({},props));}}),!this.state.home&&/*#__PURE__*/_jsx(Route,{component:NotFound})]})})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/tony/Documents/Projects/react/Writer/writer/src/App.js"],"names":["React","Component","HashRouter","Route","Switch","useHistory","requestRefreshToken","veryAccessTokens","loading","TheLayout","lazy","Login","Activate","Forgot","Home","Terms","ConfirmPayment","NotFound","history","margin","goBack","App","props","handleProfile","data","username","profile","email","setState","home","route","ta","localStorage","getItem","tr","check","checkRefresh","state","window","location","href","componentDidMount","url","split","ENDPOINT"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { HashRouter, Route, Switch,useHistory } from 'react-router-dom';\nimport { requestRefreshToken, veryAccessTokens } from './Api/authThenticateToken';\nimport './scss/style.scss';\n\nconst loading = (\n  <div className=\"pt-3 text-center\">\n    <div className=\"sk-spinner sk-spinner-pulse\"></div>\n  </div>\n)\n\n// Containers\nconst TheLayout = React.lazy(() => import('./containers/TheLayout'));\nconst Login = React.lazy(() => import('./views/pages/login/Login'));\nconst Activate = React.lazy(()=>import('./views/pages/activate/activate'));\nconst Forgot = React.lazy(()=>import('./views/pages/activate/forgot'));\nconst Home = React.lazy(()=>import('./views/pages/Home/home'));\nconst Terms = React.lazy(()=>import('./views/pages/Home/Terms'));\nconst ConfirmPayment = React.lazy(()=>import('./views/pages/activate/ConfirmPayment'));\n// Pages\n/*\n\nconst Register = React.lazy(() => import('./views/pages/register/Register'));\nconst Page404 = React.lazy(() => import('./views/pages/page404/Page404'));\nconst Page500 = React.lazy(() => import('./views/pages/page500/Page500'));\n*/\n\n\nfunction NotFound(){\n  \n  let history = useHistory();\n  return <div style={{margin:\"300px auto\"}} className=\"page-wrap d-flex flex-row align-items-center\">\n  <div className=\"container\">\n      <div className=\"row justify-content-center\">\n          <div className=\"col-md-12 text-center\">\n              <span className=\"display-1 d-block\">404</span>\n              <div className=\"mb-4 lead\">The page you are looking for was not found.</div>\n              \n              <button className=\"btn btn-simple\" onClick={() => history.goBack()}>Go Back</button>\n          </div>\n      </div>\n  </div>\n</div>\n}\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n         username:\"\",\n         profile:\"\",\n         home:false,\n         email:'',\n         ENDPOINT:'localhost:4000',\n    }\n\n  }\n  \n\n  handleProfile=(data)=>{\n      \n    const {username,profile,email} = data;\n  \n    //alert(username)\n    this.setState({username:username,profile:profile,home:true,email:email});\n   \n }\n\n\n route =async ()=>{\n   \n  //this.state.home == true?\"\":window.location.href=\"/#/auth\";\n    var ta= localStorage.getItem('wat');\n    var tr = localStorage.getItem('wtr');\n     \n      const check = await veryAccessTokens(ta,this.handleProfile);//authenTicateWebRefresh(ta,tr,this.handleProfile);\n      \n      \n      \n      if(check == true){\n          this.setState({home:true})\n      }else if( check == false){\n        const checkRefresh = await requestRefreshToken(tr,this.handleProfile);\n        if(checkRefresh == true){\n          this.setState({home:true});\n        }\n      }\n  if(!this.state.home){\n      window.location.href=\"/#/\"\n  }\n }\n\n  componentDidMount=()=>{\n    const url = window.location.href.split('/#/')[1];\n   \n    if(url === \"auth/activate\"){}\n    else if(url === \"confirm\"){\n\n    }\n    else{\n      \n     if(url.split('?')[0] === \"auth/activate\"){\n       \n      //console.log(url);\n     }\n     else if(url.split('?')[0] === \"confirm\"){\n\n     }\n     else{\n       \n       this.route();\n     }\n    }\n\n  }\n\n  render() {\n\n    \n    return (\n      <HashRouter>\n          <React.Suspense fallback={loading}>\n            <Switch>\n            {!this.state.home && <Route exact path=\"/login\" name=\"Login Page\" render={props => <Login Profile={this.handleProfile} {...props}/>} />}\n           {!this.state.home &&<Route exact path=\"/\" name=\"Home Page\" render={props => <Home  {...props}/>} />}\n           {!this.state.home && <Route exact path=\"/auth/ForgotPassWord\" name=\"Forgot\" render={props => <Forgot {...props}/>} />}\n           {!this.state.home &&<Route exact path=\"/auth/activate\" name=\"Login Page\" render={props => <Activate {...props}/>} />}\n           {/*\n              <Route exact path=\"/register\" name=\"Register Page\" render={props => <Register {...props}/>} />\n              <Route exact path=\"/404\" name=\"Page 404\" render={props => <Page404 {...props}/>} />\n              <Route exact path=\"/500\" name=\"Page 500\" render={props => <Page500 {...props}/>} />\n            */}\n            {this.state.home &&  <Route path=\"/\" name=\"Home\" render={props => <TheLayout email={this.state.email} Uname={this.state.username} Pfile={this.state.profile} {...props}/>} />}\n            {!this.state.home &&<Route exact path=\"/Terms\" name=\"Home Page\" render={props => <Terms  {...props}/>} />}\n            \n            {!this.state.home && <Route exact path=\"/confirm\" name=\"confirm\" render={props => <ConfirmPayment {...props}/>}/>}\n            {!this.state.home && <Route component={NotFound} />}\n            </Switch>\n          </React.Suspense>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}